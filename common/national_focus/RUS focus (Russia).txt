#########################
## Russia Focus Tree   ##
## By Nijato           ##
## Reworked by Alpinia ##
#########################

focus_tree = {
	id = RUS_focus_default
	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = RUS
			has_socialist_government = no
		}
	}

	default = no
	continuous_focus_position = { x = 0 y = 1800 }

	shared_focus = RUS_Equipment_Modernisation
	shared_focus = RUS_Cold_Warfare
	shared_focus = RUS_Mortar_Development
	shared_focus = RUS_Modernise_The_VVS
	shared_focus = RUS_Take_To_The_Seas

	#############
	###### Internal Politics #######
	#############

	focus = {
		id = RUS_End_the_Deadlock
		icon = GFX_goal_generic_neutrality_focus
		cost = 30

		bypass = {
			NOT = { has_idea = RUS_political_deadlock_1 }
		}

		x = 7
		y = 0

		ai_will_do = { factor = 2000 }

		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus RUS_End_the_Deadlock"
			country_event = { id = russia_kerensky_assassination.0 days = 4 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_End_the_Deadlock"
			custom_effect_tooltip = tooltip_immediate_effect_upon_focus_start
			effect_tooltip = { country_event = { id = russia_kerensky_assassination.0 days = 4 } }
			custom_effect_tooltip = tooltip_effect_upon_focus_completion
			effect_tooltip = {
				swap_ideas = {
					remove_idea = RUS_political_deadlock_1
					add_idea = RUS_political_deadlock_2
				}
			}
		}
	}

	focus = {
		id = RUS_Restore_The_Monarchy
		icon = GFX_focus_SOV_zemsky_sobor
		cost = 10

		relative_position_id = RUS_End_the_Deadlock
		x = -3
		y = 1

		available = {
			OR = {
				RUS_dmitriy_romanov_in_power = yes
				RUS_wrangel_in_power = yes
			}
		}
		prerequisite = {
			focus = RUS_End_the_Deadlock
		}
		mutually_exclusive = {
			focus = RUS_The_Republic_Survives
			focus = RUS_A_Firm_Hand
		}
		ai_will_do = {
			factor = 1875
			modifier = {
				factor = 1.6
				RUS_wrangel_in_power = yes
			}
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = RUS_aftermath option = DEFAULT } }
				NOT = { has_game_rule = { rule = RUS_aftermath option = RUS_AFTERMATH_TSAR_DMITRIY } }
				NOT = { has_game_rule = { rule = RUS_aftermath option = RUS_AFTERMATH_KIRILL } }
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Restore_The_Monarchy"
			add_political_power = 60
			add_stability = 0.05
			remove_ideas = RUS_political_deadlock_2
		}
	}

	focus = {
		id = RUS_A_Constitutional_Monarchy
		icon = GFX_focus_SOV_third_rome
		cost = 10

		relative_position_id = RUS_Restore_The_Monarchy
		x = -3
		y = 1

		available = {
			OR = {
				RUS_dmitriy_romanov_in_power = yes
				RUS_wrangel_in_power = yes
			}
		}
		prerequisite = {
			focus = RUS_Restore_The_Monarchy
		}
		mutually_exclusive = {
			focus = RUS_Imperial_Glory
		}
		ai_will_do = {
			factor = 4000
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = RUS_aftermath option = RUS_AFTERMATH_TSAR_DMITRIY }
					has_game_rule = { rule = RUS_path option = RUS_PATH_PATAUT }
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_A_Constitutional_Monarchy"
			add_stability = 0.05
			if = {
				limit = { NOT = { has_cosmetic_tag = RUS_empire } }
				set_cosmetic_tag = RUS_empire
			}
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { RUS_tsar_wrangel = yes }
				set_party_name = {
					ideology = paternal_autocrat
					name = RUS_tsar_party
					long_name = RUS_tsar_party_long
				}
				meta_effect = {
					text = {
						set_politics = {
							ruling_party = var:current_party_ideology_group
							last_election = "[CURRENT_DATE]"
							elections_allowed = yes
						}
					}
					CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
				}
			}
			else = {
				effect_tooltip = {
					if = {
						limit = { RUS_kirill_romanov = { is_dead = no } }
						add_country_leader_role = {
							character = RUS_kirill_romanov
							country_leader = {
								desc = RUS_kirill_romanov_con_leader_desc
								ideology = authoritarian_democrat_subtype
								traits = { RUS_tsar }
							}
							promote_leader = yes
						}
					}
					else = {
						add_country_leader_role = {
							character = RUS_vladimir_romanov
							country_leader = {
								desc = RUS_vladimir_romanov_abs_leader_desc
								ideology = authoritarian_democrat_subtype
								traits = { RUS_tsar }
							}
							promote_leader = yes
						}
					}
				}
				set_politics = {
					ruling_party = authoritarian_democrat
					elections_allowed = yes
				}
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = 0.1
				}
				hidden_effect = {
					RUS_setup_tsar_kirill = yes
					news_event = { id = russianews.9 days = 1 }
				}
			}
			custom_effect_tooltip = tooltip_white_line
			add_ideas = RUS_constitutional_monarchy_1
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_New_Constitution
		icon = GFX_goal_new_treaty
		cost = 10

		relative_position_id = RUS_Restore_The_Monarchy
		x = -4
		y = 2

		available = {
			is_monarchy = yes
		}
		prerequisite = {
			focus = RUS_A_Constitutional_Monarchy
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_New_Constitution"
			if = { #has subjects
				limit = { has_idea = RUS_constitutional_monarchy_3 }
				swap_ideas = {
					remove_idea = RUS_constitutional_monarchy_3
					add_idea = RUS_constitutional_monarchy_4
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_constitutional_monarchy_1
					add_idea = RUS_constitutional_monarchy_2
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = RUS_Devoted_Subjects
		icon = GFX_goal_social_reforms
		cost = 10

		relative_position_id = RUS_Restore_The_Monarchy
		x = -2
		y = 2

		available = {
			is_monarchy = yes
		}
		prerequisite = {
			focus = RUS_A_Constitutional_Monarchy
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Devoted_Subjects"
			if = { #has constitution
				limit = { has_idea = RUS_constitutional_monarchy_2 }
				swap_ideas = {
					remove_idea = RUS_constitutional_monarchy_2
					add_idea = RUS_constitutional_monarchy_4
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_constitutional_monarchy_1
					add_idea = RUS_constitutional_monarchy_3
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESISTANCE FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = RUS_Imperial_Benevolence
		icon = GFX_goal_SAF_reform_voting_law
		cost = 10

		relative_position_id = RUS_Restore_The_Monarchy
		x = -3
		y = 3

		available = {
			is_monarchy = yes
		}
		prerequisite = {
			focus = RUS_New_Constitution
		}
		prerequisite = {
			focus = RUS_Devoted_Subjects
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Imperial_Benevolence"
			swap_ideas = {
				remove_idea = RUS_constitutional_monarchy_4
				add_idea = RUS_constitutional_monarchy_5
			}
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = RUS_Imperial_Glory
		icon = GFX_focus_SOV_my_brothers_keeper
		cost = 10

		relative_position_id = RUS_Restore_The_Monarchy
		x = -1
		y = 1

		available = {
			OR = {
				RUS_dmitriy_romanov_in_power = yes
				RUS_wrangel_in_power = yes
			}
		}
		prerequisite = {
			focus = RUS_Restore_The_Monarchy
		}
		mutually_exclusive = {
			focus = RUS_A_Constitutional_Monarchy
		}
		ai_will_do = {
			factor = 6000
			modifier = {
				factor = 0
				RUS_wrangel_in_power = yes
				NOT = { has_game_rule = { rule = RUS_path option = RUS_PATH_PATAUT } }
			}
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = RUS_path option = DEFAULT } }
				NOT = { has_game_rule = { rule = RUS_path option = RUS_PATH_PATAUT } }
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Imperial_Glory"
			if = {
				limit = { RUS_tsar_wrangel = yes }
				if = {
					limit = { NOT = { has_cosmetic_tag = RUS_empire } }
					set_cosmetic_tag = RUS_empire
				}
				set_party_name = {
					ideology = paternal_autocrat
					name = RUS_tsar_party
					long_name = RUS_tsar_party_long
				}
				add_popularity = {
					ideology = paternal_autocrat
					popularity = 0.2
				}
			}
			else_if = {
				limit = { RUS_dmitriy_romanov_in_power = yes }
				log = "KR_Event_Logging;RUS POLITICAL PATH - Dmitry Romanov (Tsar);[GetDateText]"
				add_stability = -0.1
				if = {
					limit = { NOT = { has_cosmetic_tag = RUS_empire } }
					set_cosmetic_tag = RUS_empire
				}
				custom_effect_tooltip = tooltip_white_line
				set_politics = {
					ruling_party = paternal_autocrat
					elections_allowed = no
					name = RUS_tsar_party
					long_name = RUS_tsar_party_long
				}
				effect_tooltip = {
					add_country_leader_role = {
						character = RUS_dmitry_romanov
						country_leader = {
							desc = RUS_dmitry_romanov_regnal_leader_desc
							ideology = paternal_autocrat_subtype
							traits = { RUS_autocratic_charmer }
						}
						promote_leader = yes
					}
				}
				add_popularity = {
					ideology = paternal_autocrat
					popularity = 0.25
				}
				hidden_effect = {
					RUS_setup_tsar_dmitriy = yes
					news_event = { id = russianews.8 days = 1 }
				}
			}
			else = {
				add_stability = 0.05
				custom_effect_tooltip = tooltip_white_line
				effect_tooltip = {
					if = {
						limit = { RUS_kirill_romanov = { is_dead = no } }
						add_country_leader_role = {
							character = RUS_kirill_romanov
							country_leader = {
								desc = RUS_kirill_romanov_con_leader_desc
								ideology = paternal_autocrat_subtype
								traits = { RUS_tsar }
							}
							promote_leader = yes
						}
					}
					else = {
						add_country_leader_role = {
							character = RUS_vladimir_romanov
							country_leader = {
								desc = RUS_vladimir_romanov_abs_leader_desc
								ideology = paternal_autocrat_subtype
								traits = { RUS_tsar }
							}
							promote_leader = yes
						}
					}
				}
				custom_effect_tooltip = tooltip_white_line
				set_politics = {
					ruling_party = paternal_autocrat
					elections_allowed = no
					name = RUS_tsar_party
					long_name = RUS_tsar_party_long
				}
				add_popularity = {
					ideology = paternal_autocrat
					popularity = 0.25
				}
				hidden_effect = {
					RUS_setup_tsar_kirill = yes
					news_event = { id = russianews.9 days = 1 }
				}
			}
			custom_effect_tooltip = tooltip_white_line
			add_ideas = RUS_imperial_glory_1
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_The_Voice_Of_The_Tsar
		icon = GFX_EGY_Radio_Free_Cairo
		cost = 10

		relative_position_id = RUS_Restore_The_Monarchy
		x = -1
		y = 3

		available = {
			is_monarchy = yes
		}
		prerequisite = {
			focus = RUS_Imperial_Glory
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_The_Voice_Of_The_Tsar"
			add_political_power = 50
			swap_ideas = {
				remove_idea = RUS_imperial_glory_1
				add_idea = RUS_imperial_glory_2
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESISTANCE }
	}

	focus = {
		id = RUS_Neo_Slavism
		icon = GFX_goal_russia
		cost = 10

		relative_position_id = RUS_Restore_The_Monarchy
		x = -1
		y = 4

		available = {
			is_monarchy = yes
		}
		prerequisite = {
			focus = RUS_The_Voice_Of_The_Tsar
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Neo_Slavism"
			if = { #has rumyantsev
				limit = { has_idea = RUS_imperial_glory_3 }
				swap_ideas = {
					remove_idea = RUS_imperial_glory_3
					add_idea = RUS_imperial_glory_6
				}
			}
			else_if = { #has laws
				limit = { has_idea = RUS_imperial_glory_5 }
				swap_ideas = {
					remove_idea = RUS_imperial_glory_5
					add_idea = RUS_imperial_glory_8
				}
			}
			else_if = { #has rumyantsev and laws
				limit = { has_idea = RUS_imperial_glory_7 }
				swap_ideas = {
					remove_idea = RUS_imperial_glory_7
					add_idea = RUS_imperial_glory_9
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_imperial_glory_2
					add_idea = RUS_imperial_glory_4
				}
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESISTANCE }
	}

	focus = {
		id = RUS_Rationalise_The_Laws
		icon = GFX_focus_generic_treaty
		cost = 10

		relative_position_id = RUS_Restore_The_Monarchy
		x = 1
		y = 4

		available = {
			is_monarchy = yes
		}
		prerequisite = {
			focus = RUS_The_Voice_Of_The_Tsar
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Rationalise_The_Laws"
			add_political_power = 50
			hidden_effect = {
				country_event = { id = rusd.148 days = 50 }
			}
			if = { #has rumyantsev
				limit = { has_idea = RUS_imperial_glory_3 }
				swap_ideas = {
					remove_idea = RUS_imperial_glory_3
					add_idea = RUS_imperial_glory_7
				}
			}
			else_if = { #has neoslavism
				limit = { has_idea = RUS_imperial_glory_4 }
				swap_ideas = {
					remove_idea = RUS_imperial_glory_4
					add_idea = RUS_imperial_glory_8
				}
			}
			else_if = { #has rumyantsev and neoslavism
				limit = { has_idea = RUS_imperial_glory_6 }
				swap_ideas = {
					remove_idea = RUS_imperial_glory_6
					add_idea = RUS_imperial_glory_9
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_imperial_glory_2
					add_idea = RUS_imperial_glory_5
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_Expansion_Of_The_Rumyantsev_Library
		icon = GFX_goal_KTG_Bookstack
		cost = 10

		relative_position_id = RUS_Restore_The_Monarchy
		x = -3
		y = 4

		available = {
			is_monarchy = yes
		}
		prerequisite = {
			focus = RUS_Imperial_Benevolence
			focus = RUS_The_Voice_Of_The_Tsar
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Expansion_Of_The_Rumyantsev_Library"
			effect_tooltip = {
				if = {
					limit = { has_completed_focus = RUS_A_Constitutional_Monarchy }
					swap_ideas = {
						remove_idea = RUS_constitutional_monarchy_5
						add_idea = RUS_constitutional_monarchy_6
					}
				}
				if = {
					limit = { has_completed_focus = RUS_Imperial_Glory }
					swap_ideas = {
						remove_idea = RUS_imperial_glory_2
						add_idea = RUS_imperial_glory_3
					}
				}
				else = {
					custom_effect_tooltip = RUS_Expansion_Of_The_Rumyantsev_Library_tooltip
				}
			}
			hidden_effect = {
				if = {
					limit = { has_completed_focus = RUS_A_Constitutional_Monarchy }
					swap_ideas = {
						remove_idea = RUS_constitutional_monarchy_5
						add_idea = RUS_constitutional_monarchy_6
					}
				}
				else_if = { #has voice of the tsar
					limit = { has_idea = RUS_imperial_glory_2 }
					swap_ideas = {
						remove_idea = RUS_imperial_glory_2
						add_idea = RUS_imperial_glory_3
					}
				}
				else_if = { #has neoslavism
					limit = { has_idea = RUS_imperial_glory_4 }
					swap_ideas = {
						remove_idea = RUS_imperial_glory_4
						add_idea = RUS_imperial_glory_6
					}
				}
				else_if = { #has laws
					limit = { has_idea = RUS_imperial_glory_5 }
					swap_ideas = {
						remove_idea = RUS_imperial_glory_5
						add_idea = RUS_imperial_glory_7
					}
				}
				else_if = { ##has neoslavism and laws
					limit = { has_idea = RUS_imperial_glory_8 }
					swap_ideas = {
						remove_idea = RUS_imperial_glory_8
						add_idea = RUS_imperial_glory_9
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = RUS_The_Republic_Survives
		icon = GFX_goal_liberty
		cost = 10

		relative_position_id = RUS_End_the_Deadlock
		x = 0
		y = 1

		available = {
			OR = {
				RUS_dmitriy_romanov_in_power = yes
				RUS_denikin_in_power = yes
				has_elected_government = yes
			}
		}
		prerequisite = {
			focus = RUS_End_the_Deadlock
		}
		mutually_exclusive = {
			focus = RUS_Restore_The_Monarchy
			focus = RUS_A_Firm_Hand
		}
		ai_will_do = {
			factor = 1500
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = RUS_aftermath option = RUS_AFTERMATH_TSAR_DMITRIY }
					has_game_rule = { rule = RUS_aftermath option = RUS_AFTERMATH_DENIKIN }
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_The_Republic_Survives"
			add_stability = 0.1
			remove_ideas = RUS_political_deadlock_2
			hidden_effect = {
				if = {
					limit = { has_elections = no }
					set_politics = {
						ruling_party = var:current_party_ideology_group
						election_frequency = 12
						elections_allowed = yes
					}
				}
			}
		}
	}

	focus = {
		id = RUS_Empower_The_Senate
		icon = GFX_focus_generic_self_management
		cost = 10

		relative_position_id = RUS_The_Republic_Survives
		x = -2
		y = 1

		available = {
			RUS_dmitriy_romanov_in_power = yes
		}
		prerequisite = {
			focus = RUS_The_Republic_Survives
		}
		mutually_exclusive = {
			focus = RUS_Empower_The_Duma
		}
		ai_will_do = { factor = 1500 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Empower_The_Senate"
			log = "KR_Event_Logging;RUS POLITICAL PATH - Senate Republic;[GetDateText]"
			set_politics = {
				ruling_party = authoritarian_democrat
				election_frequency = 60
				elections_allowed = yes
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.1
			}
			custom_effect_tooltip = tooltip_white_line
			add_ideas = RUS_new_senate_1
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_Money_For_The_Motherland
		icon = GFX_focus_mex_privatisation
		cost = 10

		relative_position_id = RUS_Empower_The_Senate
		x = -1
		y = 1

		prerequisite = {
			focus = RUS_Empower_The_Senate
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Money_For_The_Motherland"
			add_political_power = 100
			if = { #has construction
				limit = { has_idea = RUS_new_senate_3 }
				swap_ideas = {
					remove_idea = RUS_new_senate_3
					add_idea = RUS_new_senate_5
				}
			}
			else_if = { #has army
				limit = { has_idea = RUS_new_senate_4 }
				swap_ideas = {
					remove_idea = RUS_new_senate_4
					add_idea = RUS_new_senate_6
				}
			}
			else_if = { #has construction and army
				limit = { has_idea = RUS_new_senate_7 }
				swap_ideas = {
					remove_idea = RUS_new_senate_7
					add_idea = RUS_new_senate_8
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_new_senate_1
					add_idea = RUS_new_senate_2
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = RUS_Industrial_Expansion
		icon = GFX_goal_workers_for_business
		cost = 10

		relative_position_id = RUS_Empower_The_Senate
		x = 0
		y = 2

		prerequisite = {
			focus = RUS_Empower_The_Senate
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Industrial_Expansion"
			hidden_effect = {
				country_event = { id = rusd.125 days = 15 }
			}
			if = { #has army
				limit = { has_idea = RUS_new_senate_4 }
				swap_ideas = {
					remove_idea = RUS_new_senate_4
					add_idea = RUS_new_senate_7
				}
			}
			else_if = { #has taxes
				limit = { has_idea = RUS_new_senate_2 }
				swap_ideas = {
					remove_idea = RUS_new_senate_2
					add_idea = RUS_new_senate_5
				}
			}
			else_if = { #has army and taxes
				limit = { has_idea = RUS_new_senate_6 }
				swap_ideas = {
					remove_idea = RUS_new_senate_6
					add_idea = RUS_new_senate_8
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_new_senate_1
					add_idea = RUS_new_senate_3
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Aristocratic_Army
		icon = GFX_goal_collaborate_local_elites
		cost = 10

		relative_position_id = RUS_Empower_The_Senate
		x = 1
		y = 1

		prerequisite = {
			focus = RUS_Empower_The_Senate
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Aristocratic_Army"
			army_experience = 20
			navy_experience = 20
			air_experience = 20
			if = { #has construction
				limit = { has_idea = RUS_new_senate_3 }
				swap_ideas = {
					remove_idea = RUS_new_senate_3
					add_idea = RUS_new_senate_7
				}
			}
			else_if = { #has taxes
				limit = { has_idea = RUS_new_senate_2 }
				swap_ideas = {
					remove_idea = RUS_new_senate_2
					add_idea = RUS_new_senate_6
				}
			}
			else_if = { #has construction and taxes
				limit = { has_idea = RUS_new_senate_5 }
				swap_ideas = {
					remove_idea = RUS_new_senate_5
					add_idea = RUS_new_senate_8
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_new_senate_1
					add_idea = RUS_new_senate_4
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_AIR_XP }
	}

	focus = {
		id = RUS_Empower_The_Duma
		icon = GFX_goal_DOM_End_Judicial_Corruption
		cost = 10

		relative_position_id = RUS_The_Republic_Survives
		x = 2
		y = 1

		available = {
			RUS_dmitriy_romanov_in_power = no
		}
		bypass = {
			is_subject = yes
		}
		prerequisite = {
			focus = RUS_The_Republic_Survives
		}
		mutually_exclusive = {
			focus = RUS_Empower_The_Senate
		}
		ai_will_do = { factor = 8000 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Empower_The_Duma"
			log = "KR_Event_Logging;RUS POLITICAL PATH - Republic;[GetDateText]"
			add_ideas = RUS_empowered_duma_1
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_A_Tolerant_Republic
		icon = GFX_goal_SAF_reform_voting_law
		cost = 10

		relative_position_id = RUS_Empower_The_Duma
		x = -1
		y = 1

		prerequisite = {
			focus = RUS_Empower_The_Duma
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_A_Tolerant_Republic"
			if = { #has free thought
				limit = { has_idea = RUS_empowered_duma_2 }
				swap_ideas = {
					remove_idea = RUS_empowered_duma_2
					add_idea = RUS_empowered_duma_4
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_empowered_duma_1
					add_idea = RUS_empowered_duma_3
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESISTANCE }
	}

	focus = {
		id = RUS_Reinforce_The_Government
		icon = GFX_goal_agency
		cost = 10

		relative_position_id = RUS_A_Tolerant_Republic
		x = 0
		y = 1

		prerequisite = {
			focus = RUS_A_Tolerant_Republic
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Reinforce_The_Government"
			if = { #has free thought
				limit = { has_idea = RUS_empowered_duma_4 }
				swap_ideas = {
					remove_idea = RUS_empowered_duma_4
					add_idea = RUS_empowered_duma_6
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_empowered_duma_3
					add_idea = RUS_empowered_duma_5
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_Encourage_Free_Thought
		icon = GFX_goal_brain
		cost = 10

		relative_position_id = RUS_Empower_The_Duma
		x = 1
		y = 1

		prerequisite = {
			focus = RUS_Empower_The_Duma
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Encourage_Free_Thought"
			if = { #has tolerant republic
				limit = { has_idea = RUS_empowered_duma_3 }
				swap_ideas = {
					remove_idea = RUS_empowered_duma_3
					add_idea = RUS_empowered_duma_4
				}
			}
			else_if = { #has reinforced government
				limit = { has_idea = RUS_empowered_duma_5 }
				swap_ideas = {
					remove_idea = RUS_empowered_duma_5
					add_idea = RUS_empowered_duma_6
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_empowered_duma_1
					add_idea = RUS_empowered_duma_2
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = RUS_Defend_Democracy
		icon = GFX_focus_generic_bastion_of_democracy
		cost = 10

		relative_position_id = RUS_Reinforce_The_Government
		x = 1
		y = 1

		prerequisite = {
			focus = RUS_Reinforce_The_Government
		}
		prerequisite = {
			focus = RUS_Encourage_Free_Thought
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Defend_Democracy"
			swap_ideas = {
				remove_idea = RUS_empowered_duma_6
				add_idea = RUS_empowered_duma_7
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = RUS_A_Firm_Hand
		icon = GFX_focus_SOV_restore_cossack_units
		cost = 10

		relative_position_id = RUS_End_the_Deadlock
		x = 3
		y = 1

		available = {
			OR = {
				RUS_savinkov_in_power = yes
				RUS_wrangel_in_power = yes
				RUS_denikin_in_power = yes
			}
		}
		prerequisite = {
			focus = RUS_End_the_Deadlock
		}
		mutually_exclusive = {
			focus = RUS_Restore_The_Monarchy
			focus = RUS_The_Republic_Survives
		}
		ai_will_do = {
			factor = 3000
			modifier = {
				factor = 0
				has_game_rule = { rule = RUS_aftermath option = RUS_AFTERMATH_KIRILL }
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_A_Firm_Hand"
			if = {
				limit = { RUS_denikin_in_power = yes }
				log = "KR_Event_Logging;RUS POLITICAL PATH - Denikin (Dictator);[GetDateText]"
				add_stability = -0.2
			}
			else_if = {
				limit = { RUS_wrangel_in_power = yes }
				log = "KR_Event_Logging;RUS POLITICAL PATH - Wrangel (Dictator);[GetDateText]"
				add_stability = -0.1
			}
			else = {
				add_stability = -0.05
			}
			add_war_support = 0.1
			remove_ideas = RUS_political_deadlock_2
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = RUS_Centralised_Apparatus_Of_State
		icon = GFX_focus_eng_move_to_secure_the_dominions
		cost = 10

		relative_position_id = RUS_A_Firm_Hand
		x = 1
		y = 1

		available = {
			is_subject = no
		}
		prerequisite = {
			focus = RUS_A_Firm_Hand
		}
		ai_will_do = { factor = 1000 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Centralised_Apparatus_Of_State"
			add_stability = 0.05
			add_political_power = 50
			custom_effect_tooltip = RUS_state_duma_trait_change
			hidden_effect = {
				RUS_state_duma = {
					remove_trait = {
						slot = second_in_command
						trait = KR_parliament_sic
					}
					add_trait = {
						slot = second_in_command
						trait = KR_authoritarian_sic
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_A_New_Russia
		icon = GFX_goal_national_populism
		cost = 10

		relative_position_id = RUS_A_Firm_Hand
		x = 2
		y = 2

		available = {
			is_subject = no
			RUS_savinkov_in_power = yes
		}
		prerequisite = {
			focus = RUS_Centralised_Apparatus_Of_State
		}
		mutually_exclusive = {
			focus = RUS_Legacy_Of_The_Whites
		}
		ai_will_do = { factor = 1000 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_A_New_Russia"
			set_cosmetic_tag = RUS_state
			add_stability = 0.05
			add_ideas = RUS_a_new_russia_1
			hidden_effect = {
				country_event = { id = russia.40 days = 7 }
				news_event = { id = russianews.12 days = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Natsgvardiya
		icon = GFX_EGY_Palestine_Defence
		cost = 10

		relative_position_id = RUS_A_Firm_Hand
		x = 1
		y = 3

		available = {
			is_subject = no
		}
		prerequisite = {
			focus = RUS_A_New_Russia
		}
		ai_will_do = { factor = 1000 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Natsgvardiya"
			add_manpower = 100000
			if = { #has yunarmiya
				limit = { has_idea = RUS_a_new_russia_3 }
				swap_ideas = {
					remove_idea = RUS_a_new_russia_3
					add_idea = RUS_a_new_russia_4
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_a_new_russia_1
					add_idea = RUS_a_new_russia_2
				}
			}
			hidden_effect = {
				if = {
					limit = {
						date > 1938.04.24
					}
					country_event = { id = rusd.124 days = 15 }
				}
				else = {
					country_event = { id = rusd.124 days = 365 }
				}
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = RUS_Yunarmiya
		icon = GFX_focus_generic_manpower
		cost = 10

		relative_position_id = RUS_A_Firm_Hand
		x = 3
		y = 3

		available = {
			is_subject = no
		}
		prerequisite = {
			focus = RUS_A_New_Russia
		}
		ai_will_do = { factor = 1000 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Yunarmiya"
			if = { #has natsguardiya
				limit = { has_idea = RUS_a_new_russia_2 }
				swap_ideas = {
					remove_idea = RUS_a_new_russia_2
					add_idea = RUS_a_new_russia_4
				}
			}
			else = { #has only basic
				swap_ideas = {
					remove_idea = RUS_a_new_russia_1
					add_idea = RUS_a_new_russia_3
				}
			}
			hidden_effect = {
				country_event = { id = rusd.154 days = 20 random_days = 100 }
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESISTANCE }
	}

	focus = {
		id = RUS_Legacy_Of_The_Whites
		icon = GFX_goal_RUS_white_legacy
		cost = 10

		relative_position_id = RUS_A_Firm_Hand
		x = 4
		y = 2

		available = {
			is_subject = no
			OR = {
				RUS_wrangel_in_power = yes
				RUS_denikin_in_power = yes
			}
		}
		prerequisite = {
			focus = RUS_Centralised_Apparatus_Of_State
		}
		mutually_exclusive = {
			focus = RUS_A_New_Russia
		}
		ai_will_do = { factor = 1000 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Legacy_Of_The_Whites"
			army_experience = 50
			add_ideas = RUS_legacy_of_the_whites_1
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_ARMY_XP }
	}

	focus = {
		id = RUS_Stratocratic_Government
		icon = GFX_focus_DEN_limited_regulations
		cost = 10

		relative_position_id = RUS_A_Firm_Hand
		x = 5
		y = 3

		available = {
			is_subject = no
		}
		prerequisite = {
			focus = RUS_Legacy_Of_The_Whites
		}
		ai_will_do = { factor = 1000 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Stratocratic_Government"
			if = { #has mil. spir
				limit = { has_idea = RUS_legacy_of_the_whites_3 }
				swap_ideas = {
					remove_idea = RUS_legacy_of_the_whites_3
					add_idea = RUS_legacy_of_the_whites_4
				}
			}
			else = { #has only basic
				swap_ideas = {
					remove_idea = RUS_legacy_of_the_whites_1
					add_idea = RUS_legacy_of_the_whites_2
				}
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Military_Spirit
		icon = GFX_goal_generic_join_faction
		cost = 10

		relative_position_id = RUS_A_Firm_Hand
		x = 7
		y = 3

		available = {
			is_subject = no
		}
		prerequisite = {
			focus = RUS_Legacy_Of_The_Whites
		}
		ai_will_do = { factor = 1000 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Military_Spirit"
			army_experience = 50
			if = { #has strat
				limit = { has_idea = RUS_legacy_of_the_whites_2 }
				swap_ideas = {
					remove_idea = RUS_legacy_of_the_whites_2
					add_idea = RUS_legacy_of_the_whites_4
				}
			}
			else = { #has only basic
				swap_ideas = {
					remove_idea = RUS_legacy_of_the_whites_1
					add_idea = RUS_legacy_of_the_whites_3
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_ARMY_XP }
	}

	focus = {
		id = RUS_State_Revanchism
		icon = GFX_focus_generic_eagle
		cost = 10

		relative_position_id = RUS_A_Firm_Hand
		x = 4
		y = 4

		available = {
			is_subject = no
		}
		prerequisite = {
			focus = RUS_Natsgvardiya
			focus = RUS_Military_Spirit
		}
		prerequisite = {
			focus = RUS_Yunarmiya
			focus = RUS_Stratocratic_Government
		}
		ai_will_do = { factor = 1000 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_State_Revanchism"
			add_ideas = RUS_state_revanchism
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	#############
	###Economy###
	#############

	focus = {
		id = RUS_Establish_The_VES
		icon = GFX_goal_economic_control
		cost = 8

		x = 18
		y = 0

		available = {
			RUS_has_black_monday = yes
			RUS_savinkov_in_power = yes
			has_completed_focus = RUS_End_the_Deadlock
		}
		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus RUS_Establish_The_VES"
			RUS_reduce_black_monday = yes
		}

		mutually_exclusive = {
			focus = RUS_Bureaucratic_Overhaul
			focus = RUS_Reinstitute_The_Zemstva
			focus = RUS_Cooperative_Capitalism
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Establish_The_VES"
			add_political_power = 100
			add_stability = 0.05
			add_ideas = RUS_supreme_economic_council_1
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_Ural_Tractor_Plants
		icon = GFX_goal_generic_heavy_armour_russian
		cost = 8

		relative_position_id = RUS_Establish_The_VES
		x = -5
		y = 1

		prerequisite = {
			focus = RUS_Establish_The_VES
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Ural_Tractor_Plants"
			RUS_reduce_black_monday = yes
			if = { #has MTS
				limit = { has_idea = RUS_supreme_economic_council_3 }
				swap_ideas = {
					remove_idea = RUS_supreme_economic_council_3
					add_idea = RUS_supreme_economic_council_5
				}
			}
			else_if = { #has railways
				limit = { has_idea = RUS_supreme_economic_council_4 }
				swap_ideas = {
					remove_idea = RUS_supreme_economic_council_4
					add_idea = RUS_supreme_economic_council_6
				}
			}
			else_if = { #has MTS + railways
				limit = { has_idea = RUS_supreme_economic_council_7 }
				swap_ideas = {
					remove_idea = RUS_supreme_economic_council_7
					add_idea = RUS_supreme_economic_council_8
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_supreme_economic_council_1
					add_idea = RUS_supreme_economic_council_2
				}
			}
			custom_effect_tooltip = tooltip_white_line
			572 = {
				if = {
					limit = { has_state_flag = RUS_developed_tractor_plants }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				else = {
					set_state_flag = RUS_developed_tractor_plants
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 4
						instant_build = yes
					}
					add_resource = {
						type = steel
						amount = 25
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_Machine_And_Tractor_Stations
		icon = GFX_goal_agricultural_aid
		cost = 8

		relative_position_id = RUS_Establish_The_VES
		x = -3
		y = 1

		prerequisite = {
			focus = RUS_Establish_The_VES
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Machine_And_Tractor_Stations"
			RUS_reduce_black_monday = yes
			if = { #has tankograd
				limit = { has_idea = RUS_supreme_economic_council_2 }
				swap_ideas = {
					remove_idea = RUS_supreme_economic_council_2
					add_idea = RUS_supreme_economic_council_5
				}
			}
			else_if = { #has railways
				limit = { has_idea = RUS_supreme_economic_council_4 }
				swap_ideas = {
					remove_idea = RUS_supreme_economic_council_4
					add_idea = RUS_supreme_economic_council_7
				}
			}
			else_if = { #has tankograd + railways
				limit = { has_idea = RUS_supreme_economic_council_6 }
				swap_ideas = {
					remove_idea = RUS_supreme_economic_council_6
					add_idea = RUS_supreme_economic_council_8
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_supreme_economic_council_1
					add_idea = RUS_supreme_economic_council_3
				}
			}
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 263 decision = RUS_Develop_Civilian_Industry_In_State } #Novgorod
			activate_targeted_decision = { target = 209 decision = RUS_Develop_Civilian_Industry_In_State } #Pskov
			activate_targeted_decision = { target = 651 decision = RUS_Develop_Civilian_Industry_In_State } #Ufa
			activate_targeted_decision = { target = 248 decision = RUS_Develop_Civilian_Industry_In_State } #Yaroslavl
			activate_targeted_decision = { target = 252 decision = RUS_Develop_Civilian_Industry_In_State } #Nizhny Novgorod
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_Railway_Nationalisation
		icon = GFX_goal_generic_seize_railway
		cost = 8

		relative_position_id = RUS_Establish_The_VES
		x = -1
		y = 1

		prerequisite = {
			focus = RUS_Establish_The_VES
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Railway_Nationalisation"
			RUS_reduce_black_monday = yes
			if = { #has tankograd
				limit = { has_idea = RUS_supreme_economic_council_2 }
				swap_ideas = {
					remove_idea = RUS_supreme_economic_council_2
					add_idea = RUS_supreme_economic_council_6
				}
			}
			else_if = { #has MTS
				limit = { has_idea = RUS_supreme_economic_council_3 }
				swap_ideas = {
					remove_idea = RUS_supreme_economic_council_3
					add_idea = RUS_supreme_economic_council_7
				}
			}
			else_if = { #has tankograd + MTS
				limit = { has_idea = RUS_supreme_economic_council_5 }
				swap_ideas = {
					remove_idea = RUS_supreme_economic_council_5
					add_idea = RUS_supreme_economic_council_8
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_supreme_economic_council_1
					add_idea = RUS_supreme_economic_council_4
				}
			}
			custom_effect_tooltip = tooltip_white_line
			# Petrograd - Murmansk
			build_railway = {
				start_province = 3151
				target_province = 3134
			}
			# Petrograd - Velikiye Luki
			build_railway = {
				start_province = 3151
				target_province = 11234
			}
			# Moscow - Velikiye Luki
			build_railway = {
				start_province = 3358
				target_province = 11234
			}
			# Tsaritsyn - Astrakhan
			build_railway = {
				start_province = 11408
				target_province = 9753
			}

			#Supply Hub in Kandalaksha
			213 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 6181
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Korporatsiya_Yusupova
		icon = GFX_goal_state_economy
		cost = 8

		relative_position_id = RUS_Establish_The_VES
		x = 1
		y = 1

		prerequisite = {
			focus = RUS_Establish_The_VES
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Korporatsiya_Yusupova"
			RUS_reduce_black_monday = yes
			add_tech_bonus = {
				name = RUS_Korporatsiya_Yusupova
				bonus = 1
				uses = 1
				category = industry
			}
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 653 decision = RUS_Develop_Military_Industry_In_State } #Yekaterinburg
			activate_targeted_decision = { target = 571 decision = RUS_Develop_Military_Industry_In_State } #Omsk
			activate_targeted_decision = { target = 566 decision = RUS_Develop_Military_Industry_In_State } #Irkutsk
			activate_targeted_decision = { target = 570 decision = RUS_Develop_Military_Industry_In_State } #Novo-Nikolayevsk
			activate_targeted_decision = { target = 568 decision = RUS_Develop_Military_Industry_In_State } #Krasnoyarsk
			hidden_effect = {
				country_event = { id = rusd.137 days = 90 random_days = 30 }
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_Industrial_Draft_Scheme
		icon = GFX_goal_social_reforms
		cost = 8

		relative_position_id = RUS_Establish_The_VES
		x = -2
		y = 2

		prerequisite = {
			focus = RUS_Ural_Tractor_Plants
		}
		prerequisite = {
			focus = RUS_Machine_And_Tractor_Stations
		}
		prerequisite = {
			focus = RUS_Railway_Nationalisation
		}
		prerequisite = {
			focus = RUS_Korporatsiya_Yusupova
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Industrial_Draft_Scheme"
			RUS_reduce_black_monday = yes
			swap_ideas = {
				remove_idea = RUS_supreme_economic_council_8
				add_idea = RUS_supreme_economic_council_9
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Reinstitute_The_Zemstva
		icon = GFX_goal_OTT_Land_Reform
		cost = 8

		relative_position_id = RUS_Establish_The_VES
		x = 3
		y = 0

		available = {
			RUS_has_black_monday = yes
			OR = {
				is_monarchy = yes
				RUS_wrangel_in_power = yes
				RUS_dmitriy_romanov_in_power = yes
				RUS_trubetskoy_in_power = yes
				RUS_milyukov_in_power = yes
			}
		}
		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus RUS_Reinstitute_The_Zemstva"
			RUS_reduce_black_monday = yes
		}

		mutually_exclusive = {
			focus = RUS_Bureaucratic_Overhaul
			focus = RUS_Establish_The_VES
			focus = RUS_Cooperative_Capitalism
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Reinstitute_The_Zemstva"
			add_ideas = RUS_new_zemstva_1
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_Funding_Frenzy
		icon = GFX_goal_bag_of_money
		cost = 8

		relative_position_id = RUS_Reinstitute_The_Zemstva
		x = 0
		y = 1

		prerequisite = {
			focus = RUS_Reinstitute_The_Zemstva
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Funding_Frenzy"
			add_political_power = 50
			add_stability = 0.1
			RUS_reduce_black_monday = yes
			custom_effect_tooltip = tooltip_white_line
			unlock_decision_tooltip = RUS_Invest_In_The_Northern_Zemstva
			unlock_decision_tooltip = RUS_Invest_In_The_Southern_Zemstva
			unlock_decision_tooltip = RUS_Invest_In_The_Eastern_Zemstva
			unlock_decision_tooltip = RUS_Invest_In_The_Ural_Zemstva
			unlock_decision_tooltip = RUS_Invest_In_The_Siberian_Zemstva
		}
	}

	focus = {
		id = RUS_Local_Development
		icon = GFX_goal_workers_for_business
		cost = 8

		relative_position_id = RUS_Reinstitute_The_Zemstva
		x = -1
		y = 2

		prerequisite = {
			focus = RUS_Funding_Frenzy
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Local_Development"
			RUS_reduce_black_monday = yes
			custom_effect_tooltip = RUS_Local_Development_tooltip
			if = { #has investment bank
				limit = { has_idea = RUS_new_zemstva_6 }
				swap_ideas = {
					remove_idea = RUS_new_zemstva_6
					add_idea = RUS_new_zemstva_7
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_new_zemstva_1
					add_idea = RUS_new_zemstva_2
				}
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Zemstvo_Research_Initiatives
		icon = GFX_goal_military_research
		cost = 8

		relative_position_id = RUS_Reinstitute_The_Zemstva
		x = -2
		y = 3

		prerequisite = {
			focus = RUS_Local_Development
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Zemstvo_Research_Initiatives"
			RUS_reduce_black_monday = yes
			custom_effect_tooltip = RUS_Zemstvo_Research_Initiatives_tooltip
			if = { #has war preparations
				limit = { has_idea = RUS_new_zemstva_4 }
				swap_ideas = {
					remove_idea = RUS_new_zemstva_4
					add_idea = RUS_new_zemstva_5
				}
			}
			else_if = { #has investment bank
				limit = { has_idea = RUS_new_zemstva_7 }
				swap_ideas = {
					remove_idea = RUS_new_zemstva_7
					add_idea = RUS_new_zemstva_8
				}
			}
			else_if = { #has war preparations and investment bank
				limit = { has_idea = RUS_new_zemstva_9 }
				swap_ideas = {
					remove_idea = RUS_new_zemstva_9
					add_idea = RUS_new_zemstva_10
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_new_zemstva_2
					add_idea = RUS_new_zemstva_3
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = RUS_War_Preparations_Programme
		icon = GFX_goal_generic_army_artillery
		cost = 8

		relative_position_id = RUS_Reinstitute_The_Zemstva
		x = 0
		y = 3

		prerequisite = {
			focus = RUS_Local_Development
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_War_Preparations_Programme"
			custom_effect_tooltip = RUS_War_Preparations_Programme_tooltip
			RUS_reduce_black_monday = yes
			if = { #has research initiatives
				limit = { has_idea = RUS_new_zemstva_3 }
				swap_ideas = {
					remove_idea = RUS_new_zemstva_3
					add_idea = RUS_new_zemstva_5
				}
			}
			else_if = { #has investment bank
				limit = { has_idea = RUS_new_zemstva_7 }
				swap_ideas = {
					remove_idea = RUS_new_zemstva_7
					add_idea = RUS_new_zemstva_9
				}
			}
			else_if = { #has research initiatives and investment bank
				limit = { has_idea = RUS_new_zemstva_8 }
				swap_ideas = {
					remove_idea = RUS_new_zemstva_8
					add_idea = RUS_new_zemstva_10
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_new_zemstva_2
					add_idea = RUS_new_zemstva_4
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = RUS_National_Investment_Bank
		icon = GFX_focus_usa_reestablish_the_gold_standard
		cost = 8

		relative_position_id = RUS_Reinstitute_The_Zemstva
		x = 1
		y = 2

		prerequisite = {
			focus = RUS_Funding_Frenzy
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_National_Investment_Bank"
			RUS_reduce_black_monday = yes
			custom_effect_tooltip = RUS_National_Investment_Bank_tooltip
			if = { #has local development
				limit = { has_idea = RUS_new_zemstva_2 }
				swap_ideas = {
					remove_idea = RUS_new_zemstva_2
					add_idea = RUS_new_zemstva_7
				}
			}
			else_if = { #has research initiatives
				limit = { has_idea = RUS_new_zemstva_3 }
				swap_ideas = {
					remove_idea = RUS_new_zemstva_3
					add_idea = RUS_new_zemstva_8
				}
			}
			else_if = { #has war preparations
				limit = { has_idea = RUS_new_zemstva_4 }
				swap_ideas = {
					remove_idea = RUS_new_zemstva_4
					add_idea = RUS_new_zemstva_9
				}
			}
			else_if = { #has research initiatives and war preparations
				limit = { has_idea = RUS_new_zemstva_5 }
				swap_ideas = {
					remove_idea = RUS_new_zemstva_5
					add_idea = RUS_new_zemstva_10
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_new_zemstva_1
					add_idea = RUS_new_zemstva_6
				}
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Bureaucratic_Overhaul
		icon = GFX_goal_agency
		cost = 8

		relative_position_id = RUS_Establish_The_VES
		x = 7
		y = 0

		available = {
			RUS_has_black_monday = yes
			RUS_savinkov_in_power = no
		}
		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus RUS_Bureaucratic_Overhaul"
			RUS_reduce_black_monday = yes
		}

		mutually_exclusive = {
			focus = RUS_Establish_The_VES
			focus = RUS_Reinstitute_The_Zemstva
			focus = RUS_Cooperative_Capitalism
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Bureaucratic_Overhaul"
			add_political_power = 100
			add_stability = 0.1
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_MinProm
		icon = GFX_goal_state_economy
		cost = 8

		relative_position_id = RUS_Bureaucratic_Overhaul
		x = 0
		y = 1

		prerequisite = {
			focus = RUS_Bureaucratic_Overhaul
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_MinProm"
			RUS_reduce_black_monday = yes
			add_ideas = RUS_minprom_1
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 566 decision = RUS_Develop_Civilian_Industry_In_State } #Irkutsk
			activate_targeted_decision = { target = 217 decision = RUS_Develop_Civilian_Industry_In_State } #Tsaritsyn
			activate_targeted_decision = { target = 252 decision = RUS_Develop_Civilian_Industry_In_State } #Nizhny Novgorod
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_Military_Production_Act
		icon = GFX_goal_Focus_Military_Mobilisation
		cost = 8

		relative_position_id = RUS_Bureaucratic_Overhaul
		x = -1
		y = 2

		prerequisite = {
			focus = RUS_MinProm
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Military_Production_Act"
			RUS_reduce_black_monday = yes
			if = { #has agriculture
				limit = { has_idea = RUS_minprom_3 }
				swap_ideas = {
					remove_idea = RUS_minprom_3
					add_idea = RUS_minprom_6
				}
			}
			else_if = { #has efficiency
				limit = { has_idea = RUS_minprom_4 }
				swap_ideas = {
					remove_idea = RUS_minprom_4
					add_idea = RUS_minprom_7
				}
			}
			else_if = { #has admin school
				limit = { has_idea = RUS_minprom_5 }
				swap_ideas = {
					remove_idea = RUS_minprom_5
					add_idea = RUS_minprom_8
				}
			}
			else_if = { #has agriculture + efficiency
				limit = { has_idea = RUS_minprom_9 }
				swap_ideas = {
					remove_idea = RUS_minprom_9
					add_idea = RUS_minprom_11
				}
			}
			else_if = { #has agriculture + admin school
				limit = { has_idea = RUS_minprom_10 }
				swap_ideas = {
					remove_idea = RUS_minprom_10
					add_idea = RUS_minprom_12
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_minprom_1
					add_idea = RUS_minprom_2
				}
			}
			activate_targeted_decision = { target = 220 decision = RUS_Develop_Military_Industry_In_State } #Kursk
			activate_targeted_decision = { target = 653 decision = RUS_Develop_Military_Industry_In_State } #Yekaterinburg
			activate_targeted_decision = { target = 398 decision = RUS_Develop_Military_Industry_In_State } #Perm
			activate_targeted_decision = { target = 568 decision = RUS_Develop_Military_Industry_In_State } #Krasnoyarsk
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_Economic_Efficiency_Act
		icon = GFX_goal_generic_production2
		cost = 8

		relative_position_id = RUS_Bureaucratic_Overhaul
		x = 1
		y = 2

		prerequisite = {
			focus = RUS_MinProm
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Economic_Efficiency_Act"
			RUS_reduce_black_monday = yes
			if = { #has production
				limit = { has_idea = RUS_minprom_2 }
				swap_ideas = {
					remove_idea = RUS_minprom_2
					add_idea = RUS_minprom_7
				}
			}
			else_if = { #has agriculture
				limit = { has_idea = RUS_minprom_3 }
				swap_ideas = {
					remove_idea = RUS_minprom_3
					add_idea = RUS_minprom_9
				}
			}
			else_if = { #has production + agriculture
				limit = { has_idea = RUS_minprom_6 }
				swap_ideas = {
					remove_idea = RUS_minprom_6
					add_idea = RUS_minprom_11
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_minprom_1
					add_idea = RUS_minprom_4
				}
			}
			activate_targeted_decision = { target = 572 decision = RUS_Develop_Civilian_Industry_In_State } #Chelyabinsk
			activate_targeted_decision = { target = 571 decision = RUS_Develop_Civilian_Industry_In_State } #Omsk
			activate_targeted_decision = { target = 249 decision = RUS_Develop_Civilian_Industry_In_State } #Kazan
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_Agricultural_Modernisation
		icon = GFX_focus_AUS_agriculture
		cost = 8

		relative_position_id = RUS_Bureaucratic_Overhaul
		x = 0
		y = 3

		prerequisite = {
			focus = RUS_MinProm
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Agricultural_Modernisation"
			RUS_reduce_black_monday = yes
			if = { #has production
				limit = { has_idea = RUS_minprom_2 }
				swap_ideas = {
					remove_idea = RUS_minprom_2
					add_idea = RUS_minprom_6
				}
			}
			else_if = { #has efficiency
				limit = { has_idea = RUS_minprom_4 }
				swap_ideas = {
					remove_idea = RUS_minprom_4
					add_idea = RUS_minprom_9
				}
			}
			else_if = { #has admin school
				limit = { has_idea = RUS_minprom_5 }
				swap_ideas = {
					remove_idea = RUS_minprom_5
					add_idea = RUS_minprom_10
				}
			}
			else_if = { #has production + efficiency
				limit = { has_idea = RUS_minprom_7 }
				swap_ideas = {
					remove_idea = RUS_minprom_7
					add_idea = RUS_minprom_11
				}
			}
			else_if = { #has production + admin school
				limit = { has_idea = RUS_minprom_8 }
				swap_ideas = {
					remove_idea = RUS_minprom_8
					add_idea = RUS_minprom_12
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_minprom_1
					add_idea = RUS_minprom_3
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_National_Administration_School
		icon = GFX_goal_generic_intelligence_exchange
		cost = 8

		relative_position_id = RUS_Bureaucratic_Overhaul
		x = 1
		y = 4

		prerequisite = {
			focus = RUS_Economic_Efficiency_Act
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_National_Administration_School"
			RUS_reduce_black_monday = yes
			if = { #has production
				limit = { has_idea = RUS_minprom_7 }
				swap_ideas = {
					remove_idea = RUS_minprom_7
					add_idea = RUS_minprom_8
				}
			}
			else_if = { #has agriculture
				limit = { has_idea = RUS_minprom_9 }
				swap_ideas = {
					remove_idea = RUS_minprom_9
					add_idea = RUS_minprom_10
				}
			}
			else_if = { #has production + agriculture
				limit = { has_idea = RUS_minprom_11 }
				swap_ideas = {
					remove_idea = RUS_minprom_11
					add_idea = RUS_minprom_12
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_minprom_4
					add_idea = RUS_minprom_5
				}
			}
			add_tech_bonus = {
				name = RUS_National_Administration_School
				bonus = 1
				uses = 2
				category = infantry_weapons
				category = industry
				category = electronics
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = RUS_Cooperative_Capitalism
		icon = GFX_GBR_fate_of_unions
		cost = 8

		relative_position_id = RUS_Establish_The_VES
		x = 9
		y = 0

		available = {
			RUS_has_black_monday = yes
			OR = {
				RUS_chernov_in_power = yes
				RUS_tsereteli_in_power = yes
			}
		}
		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus RUS_Cooperative_Capitalism"
			RUS_reduce_black_monday = yes
		}

		mutually_exclusive = {
			focus = RUS_Bureaucratic_Overhaul
			focus = RUS_Establish_The_VES
			focus = RUS_Reinstitute_The_Zemstva
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Cooperative_Capitalism"
			add_ideas = RUS_cooperative_capitalism_1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_New_Industrial_Programme
		icon = GFX_goal_generic_takeover_industries
		cost = 8

		relative_position_id = RUS_Cooperative_Capitalism
		x = 0
		y = 1

		prerequisite = {
			focus = RUS_Cooperative_Capitalism
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_New_Industrial_Programme"
			RUS_reduce_black_monday = yes
			add_political_power = 50
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 220 decision = RUS_Develop_Civilian_Industry_In_State } #Kursk
			activate_targeted_decision = { target = 248 decision = RUS_Develop_Civilian_Industry_In_State } #Yaroslavl
			activate_targeted_decision = { target = 209 decision = RUS_Develop_Civilian_Industry_In_State } #Pskov
			activate_targeted_decision = { target = 249 decision = RUS_Develop_Civilian_Industry_In_State } #Kazan
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Industry_In_The_Urals
		icon = GFX_goal_generic_construction2
		cost = 8

		relative_position_id = RUS_Cooperative_Capitalism
		x = 1
		y = 2

		prerequisite = {
			focus = RUS_New_Industrial_Programme
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Industry_In_The_Urals"
			RUS_reduce_black_monday = yes
			add_political_power = 50
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 653 decision = RUS_Develop_Civilian_Industry_In_State } #Yekaterinburg
			activate_targeted_decision = { target = 572 decision = RUS_Develop_Civilian_Industry_In_State } #Chelyabinsk
			activate_targeted_decision = { target = 651 decision = RUS_Develop_Civilian_Industry_In_State } #Ufa
			activate_targeted_decision = { target = 398 decision = RUS_Develop_Civilian_Industry_In_State } #Perm
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_The_Wealth_Of_Siberia
		icon = GFX_goal_CAN_explore_north
		cost = 8

		relative_position_id = RUS_Cooperative_Capitalism
		x = 3
		y = 2

		prerequisite = {
			focus = RUS_New_Industrial_Programme
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_The_Wealth_Of_Siberia"
			RUS_reduce_black_monday = yes
			add_political_power = 50
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 571 decision = RUS_Develop_Civilian_Industry_In_State } #Omsk
			activate_targeted_decision = { target = 570 decision = RUS_Develop_Civilian_Industry_In_State } #Novo-Nikolayevsk
			activate_targeted_decision = { target = 568 decision = RUS_Develop_Civilian_Industry_In_State } #Krasnoyarsk
			activate_targeted_decision = { target = 566 decision = RUS_Develop_Civilian_Industry_In_State } #Irkutsk
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Education_Campaigns
		icon = GFX_goal_KTG_Bookstack
		cost = 8

		relative_position_id = RUS_Cooperative_Capitalism
		x = 2
		y = 3

		prerequisite = {
			focus = RUS_Industry_In_The_Urals
		}
		prerequisite = {
			focus = RUS_The_Wealth_Of_Siberia
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Education_Campaigns"
			RUS_reduce_black_monday = yes
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_idea = RUS_cooperative_capitalism_2 }
				swap_ideas = {
					remove_idea = RUS_cooperative_capitalism_2
					add_idea = RUS_cooperative_capitalism_4
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_cooperative_capitalism_1
					add_idea = RUS_cooperative_capitalism_3
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_Decentralised_Logistics
		icon = GFX_goal_generic_railway_construction
		cost = 8

		relative_position_id = RUS_Cooperative_Capitalism
		x = 2
		y = 1

		prerequisite = {
			focus = RUS_Cooperative_Capitalism
		}

		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Decentralised_Logistics"
			RUS_reduce_black_monday = yes
			if = {
				limit = { has_idea = RUS_cooperative_capitalism_3 }
				swap_ideas = {
					remove_idea = RUS_cooperative_capitalism_3
					add_idea = RUS_cooperative_capitalism_4
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_cooperative_capitalism_1
					add_idea = RUS_cooperative_capitalism_2
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = RUS_Resource_Prospection
		icon = GFX_goal_generic_coal_mining
		cost = 8

		relative_position_id = RUS_Establish_The_VES
		x = 5
		y = 1

		available = {
			has_tech = fuel_silos
		}

		prerequisite = {
			focus = RUS_Establish_The_VES
			focus = RUS_Cooperative_Capitalism
			focus = RUS_Bureaucratic_Overhaul
			focus = RUS_Reinstitute_The_Zemstva
		}

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 200
				RUS_has_black_monday = no
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Resource_Prospection"
			every_owned_state = {
				display_individual_scopes = yes
				random_select_amount = 3
				limit = {
					is_core_of = ROOT
					is_valid_state_for_development = yes
					free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = { type = fuel_silo level = 1 }
			}
			every_owned_state = {
				display_individual_scopes = yes
				random_select_amount = 2
				limit = {
					has_resources_amount = { resource = steel amount > 0 }
					is_core_of = ROOT
					is_valid_state_for_development = yes
					free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = { type = industrial_complex level = 1 }
				add_resource = { type = steel amount = 5 }
			}
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 569 decision = RUS_KuzBass_Coal_Mining }
			activate_targeted_decision = { target = 961 decision = RUS_Grozny_Oil_Fields }
			activate_targeted_decision = { target = 722 decision = RUS_Pechenga_Nickel_Mining }
			activate_targeted_decision = { target = 568 decision = RUS_Tunguss_Basin_Coal_Mining }
			activate_targeted_decision = { target = 137 decision = RUS_Kamysh_Burunskiy_Iron_Ore }
			activate_targeted_decision = { target = 264 decision = RUS_Tikhvin_Bauxite_Mining }
			activate_targeted_decision = { target = 218 decision = RUS_Azov_Black_Sea_DonBass_Mining }
			activate_targeted_decision = { target = 213 decision = RUS_Kovdor_Iron_Ore_Deposits }
			activate_targeted_decision = { target = 653 decision = RUS_Kamenskiy_Uralskiy_Aluminium_Plant }
			activate_targeted_decision = { target = 787 decision = RUS_Tyrnyauz_Tungsten_Mining }
			activate_targeted_decision = { target = 249 decision = RUS_Romashkino_Oil_Field }
			activate_targeted_decision = { target = 653 decision = RUS_Kachkanar_Exploitation }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Research_Investments
		icon = GFX_focus_research2
		cost = 8

		relative_position_id = RUS_Resource_Prospection
		x = 0
		y = 2

		available = {
			RUS_has_black_monday = no
		}
		prerequisite = {
			focus = RUS_Resource_Prospection
		}
		ai_will_do = { factor = 1000 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Research_Investments"
			add_research_slot_until_five = yes
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = RUS_Project_Kremlin
		icon = GFX_goal_nuclear
		cost = 8

		relative_position_id = RUS_Research_Investments
		x = -3
		y = 1

		prerequisite = {
			focus = RUS_Research_Investments
		}
		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Project_Kremlin"
			add_tech_bonus = {
				name = RUS_Project_Kremlin
				bonus = 1
				uses = 1
				category = nuclear
			}
			country_event = rusd.122
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = RUS_Project_Kostikov
		icon = GFX_focus_rocketry
		cost = 8

		relative_position_id = RUS_Research_Investments
		x = -1
		y = 1

		prerequisite = {
			focus = RUS_Research_Investments
		}

		ai_will_do = { factor = 10 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Project_Kostikov"
			add_tech_bonus = {
				name = RUS_Project_Kostikov
				bonus = 1
				uses = 1
				category = rocketry
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = RUS_Expand_The_Transsiberian
		icon = GFX_goal_generic_railroad
		cost = 15

		relative_position_id = RUS_Research_Investments
		x = 1
		y = 1

		available = {
			561 = { is_owned_and_controlled_by = ROOT } #Amur
			563 = { is_owned_and_controlled_by = ROOT } #Chita
			564 = { is_owned_and_controlled_by = ROOT } #Verkhneudinsk
			566 = { is_owned_and_controlled_by = ROOT } #Irkutsk
			567 = { is_owned_and_controlled_by = ROOT } #Bratsk
			568 = { is_owned_and_controlled_by = ROOT } #Krasnoyarsk
			569 = { is_owned_and_controlled_by = ROOT } #Shcheglovsk
			657 = { is_owned_and_controlled_by = ROOT } #Blagoveshchensk
		}

		prerequisite = {
			focus = RUS_Research_Investments
		}

		ai_will_do = { factor = 50 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Expand_The_Transsiberian"
			if = {
				limit = { owns_state = 408 }
				build_railway = {
					level = 2
					start_province = 6380
					target_province = 957
				}
			}
			else = {
				build_railway = {
					level = 2
					start_province = 6380
					target_province = 12189
				}
			}
			every_owned_state = {
				tooltip = RUS_all_states_with_less_than_three_infra
				limit = {
					is_siberia = yes
					is_controlled_by = ROOT
					infrastructure < 3
				}
				add_building_construction = { type = infrastructure level = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	###############################
	###### Foreign Politics #######
	###############################

	focus = {
		id = RUS_Realpolitik
		icon = GFX_goal_foreign_diplomacy
		cost = 6

		x = 1
		y = 7

		available = {
			threat > 0.15
			RUS_has_black_monday = no
			is_subject = no
			OR = {
				has_completed_focus = RUS_Restore_The_Monarchy
				has_completed_focus = RUS_The_Republic_Survives
				has_completed_focus = RUS_A_Firm_Hand
			}
			has_completed_focus = RUS_End_the_Deadlock
		}
		mutually_exclusive = {
			focus = RUS_Expansionism
		}

		ai_will_do = {
			factor = 2500
			modifier = {
				factor = 0.8
				RUS_savinkov_in_power = yes
			}
			modifier = {
				factor = 0
				RUS_dont_attack_if_vulnerable_or_preparing = yes
			}
			modifier = {
				factor = 0
				is_monarchy = yes
				NOT = { has_game_rule = { rule = RUS_forpol option = RUS_FORPOL_REALPOLITIK } }
			}
			modifier = {
				factor = 0
				RUS_milyukov_in_power = yes
				NOT = { has_game_rule = { rule = RUS_forpol option = RUS_FORPOL_REALPOLITIK } }
			}
			modifier = {
				factor = 0
				has_game_rule = { rule = RUS_forpol option = RUS_FORPOL_EXPANSIONISM }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Realpolitik"
			if = {
				limit = { is_in_faction = no }
				create_faction = moscow_accord
			}
			add_stability = 0.1
			RUS_moscow_accord_threat = yes
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = RUS_Realpolitik_tooltip
			hidden_effect = {
				news_event = russianews.11
				MIE_form_intermarium = yes
				UKR = { country_event = { id = ukraine.52 days = 15 } }
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_Expansionism
		icon = GFX_focus_generic_eagle
		cost = 6

		relative_position_id = RUS_Realpolitik
		x = 2
		y = 0

		available = {
			threat > 0.15
			RUS_has_black_monday = no
			is_subject = no
			OR = {
				has_completed_focus = RUS_Restore_The_Monarchy
				has_completed_focus = RUS_The_Republic_Survives
				has_completed_focus = RUS_A_Firm_Hand
			}
			has_completed_focus = RUS_End_the_Deadlock
		}
		mutually_exclusive = {
			focus = RUS_Realpolitik
		}

		ai_will_do = {
			factor = 2500
			modifier = {
				factor = 0
				RUS_dont_attack_if_vulnerable_or_preparing = yes
			}
			modifier = {
				factor = 0
				has_completed_focus = RUS_Empower_The_Duma
				RUS_milyukov_in_power = no
				NOT = { has_game_rule = { rule = RUS_forpol option = RUS_FORPOL_EXPANSIONISM } }
			}
			modifier = {
				factor = 0
				has_game_rule = { rule = RUS_forpol option = RUS_FORPOL_REALPOLITIK }
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Expansionism"
			if = {
				limit = { is_in_faction = no }
				create_faction = moscow_accord
			}
			add_war_support = 0.05
			RUS_moscow_accord_threat = yes
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = RUS_Expansionism_tooltip
			set_country_flag = RUS_will_attack_persia
			set_country_flag = RUS_will_attack_afghanistan
			hidden_effect = {
				news_event = russianews.11
				MIE_form_intermarium = yes
				UKR = { country_event = { id = ukraine.52 days = 15 } }
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = RUS_Secure_Central_Asia
		icon = GFX_focus_generic_eagle
		cost = 6

		relative_position_id = RUS_Realpolitik
		x = 0
		y = 1

		available = {
			is_faction_leader = yes
			if = {
				limit = { has_subject = ALO }
				received_expeditionary_forces = { sender = ALO value < 1 }
			}
		}
		bypass = {
			NOT = {
				has_subject = ALO
				can_declare_war_on = ALO
				can_declare_war_on = TRK
				can_declare_war_on = BUK
				can_declare_war_on = KHI
			}
		}
		prerequisite = {
			focus = RUS_Expansionism
			focus = RUS_Realpolitik
		}

		will_lead_to_war_with = ALO
		will_lead_to_war_with = TRK
		will_lead_to_war_with = BUK
		will_lead_to_war_with = KHI

		ai_will_do = {
			factor = 3000
			modifier = {
				factor = 0
				RUS_dont_attack_if_vulnerable_or_preparing = yes
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Secure_Central_Asia"
			add_state_claim = 418 #Ashkhabad
			if = {
				limit = {
					OR = {
						NOT = { country_exists = MON }
						MON = { NOT = { has_government = paternal_autocrat } }
						MON = { has_completed_focus = MON_we_dont_need_russia }
					}
				}
				add_state_claim = 329 #Tuva
			}
			if = {
				limit = { has_subject = ALO }
				every_state = {
					limit = { is_core_of = ALO }
					add_core_of = ROOT
				}
				if = {
					limit = {
						ALO = { is_ai = yes }
					}
					annex_country = { target = ALO transfer_troops = no }
				}
			}
			else_if = {
				limit = { can_declare_war_on = ALO }
				declare_war_on = {
					target = ALO
					type = annex_everything
				}
			}
			if = {
				limit = { can_declare_war_on = TRK }
				declare_war_on = {
					target = TRK
					type = annex_everything
				}
			}
			if = {
				limit = { can_declare_war_on = BUK }
				declare_war_on = {
					target = BUK
					type = annex_everything
				}
			}
			if = {
				limit = { can_declare_war_on = KHI }
				declare_war_on = {
					target = KHI
					type = annex_everything
				}
			}
			add_named_threat = {
				threat = 5
				name = RUS_central_asia_threat
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = RUS_Seek_Allies
		icon = GFX_goal_generic_join_faction
		cost = 6

		relative_position_id = RUS_Realpolitik
		x = 1
		y = 2

		available = {
			is_faction_leader = yes
		}
		prerequisite = {
			focus = RUS_Secure_Central_Asia
			focus = RUS_Enemy_In_The_East
		}

		ai_will_do = { factor = 1000 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Seek_Allies"
			unlock_decision_category_tooltip = RUS_Alliance_decisions
			hidden_effect = {
				activate_targeted_decision = { decision = RUS_Invite_East_Turkestan target = ETS }
				if = {
					limit = {
						has_completed_focus = RUS_Realpolitik
						MON = { has_country_leader = { character = MON_roman_von_ungernsternberg } }
					}
					activate_targeted_decision = { decision = RUS_Invite_Mongolia target = MON }
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = RUS_The_Road_To_War
		icon = GFX_focus_generic_provoke_border_clashes
		cost = 6

		relative_position_id = RUS_Seek_Allies
		x = -2
		y = 1

		available = {
			is_faction_leader = yes
		}
		prerequisite = {
			focus = RUS_Seek_Allies
		}

		ai_will_do = { factor = 500 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_The_Road_To_War"
			add_political_power = 75
			add_war_support = 0.05
			add_named_threat = {
				threat = 4
				name = RUS_rearmament_threat
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = RUS_The_Road_To_War_tooltip
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = RUS_Rearmament_Programme
		icon = GFX_goal_Focus_Military_Mobilisation
		cost = 6

		relative_position_id = RUS_Seek_Allies
		x = 2
		y = 1

		available = {
			is_faction_leader = yes
		}
		prerequisite = {
			focus = RUS_Seek_Allies
		}

		ai_will_do = { factor = 1000 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Rearmament_Programme"
			add_timed_idea = {
				idea = RUS_rearmament_programme_idea
				days = 365
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_The_Academy_Of_Sciences
		icon = GFX_goal_tfv_generic_tech_sharing
		cost = 6

		relative_position_id = RUS_Seek_Allies
		x = 0
		y = 1

		available = {
			is_faction_leader = yes
		}
		prerequisite = {
			focus = RUS_Seek_Allies
		}

		ai_will_do = { factor = 500 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_The_Academy_Of_Sciences"
			add_to_tech_sharing_group = russian_research
			every_other_country = {
				limit = { is_in_faction_with = ROOT }
				add_to_tech_sharing_group = russian_research
				country_event = rusd.164
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = RUS_Crush_The_German_Hegemony
		icon = GFX_goal_attack_germany
		cost = 6

		relative_position_id = RUS_Seek_Allies
		x = 0
		y = 2

		available = {
			second_weltkrieg_can_start = yes
			is_faction_leader = yes
		}

		continue_if_invalid = yes

		cancel = {
			OR = {
				is_faction_leader = no
				has_country_flag = KR_copenhagen_conference_success
			}
		}

		bypass = {
			NOT = { can_declare_war_on = GER }
		}

		prerequisite = {
			focus = RUS_Rearmament_Programme
		}
		prerequisite = {
			focus = RUS_The_Road_To_War
		}
		prerequisite = {
			focus = RUS_The_Academy_Of_Sciences
		}

		ai_will_do = {
			factor = 3000
			modifier = {
				factor = 0
				RUS_dont_attack_if_vulnerable_or_preparing = yes
			}
			modifier = {
				factor = 0
				UKR = {
					is_in_faction_with = GER
					RUS_dont_attack_if_target_is_stronger = yes
				}
			}
			modifier = {
				factor = 0
				POL = {
					is_in_faction_with = GER
					RUS_dont_attack_if_target_is_stronger = yes
				}
			}
		}

		will_lead_to_war_with = GER
		will_lead_to_war_with = WHR
		will_lead_to_war_with = UKR
		will_lead_to_war_with = GEO
		will_lead_to_war_with = AZR
		will_lead_to_war_with = AUS

		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus RUS_Crush_The_German_Hegemony"
			set_country_flag = { flag = imminent_war days = 60 value = 1 }
			if = {
				limit = {
					country_exists = OTT
					OTT = { is_subject = no }
				}
				OTT = { country_event = ottfor.51 }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Crush_The_German_Hegemony"
			declare_war_on = {
				target = GER
				type = annex_everything
			}
			if = {
				limit = {
					can_declare_war_on = GEO
					OR = {
						has_global_flag = RUSSIAN_OTTOMAN_DEAL_GEO_ANNEX
						NOT = { has_global_flag = RUSSIAN_OTTOMAN_DEAL }
					}
					GEO = {
						OR = {
							is_subject = no
							is_ally_with = GER
							is_guaranteed_by = GER
						}
					}
				}
				declare_war_on = {
					target = GEO
					type = annex_everything
				}
			}
			if = {
				limit = {
					can_declare_war_on = AZR
					NOT = { has_global_flag = RUSSIAN_OTTOMAN_DEAL }
					AZR = {
						OR = {
							is_subject = no
							is_ally_with = GER
							is_guaranteed_by = GER
						}
					}
				}
				declare_war_on = {
					target = AZR
					type = annex_everything
				}
			}
			if = {
				limit = {
					can_declare_war_on = WHR
					WHR = { NOT = { is_in_faction_with = INT } }
				}
				declare_war_on = {
					target = WHR
					type = annex_everything
				}
			}
			if = {
				limit = {
					can_declare_war_on = UKR
					UKR = { NOT = { is_in_faction_with = INT } }
				}
				declare_war_on = {
					target = UKR
					type = annex_everything
				}
			}
			hidden_effect = {
				every_other_country = {
					limit = {
						is_in_faction_with = GER
						OR = {
							original_tag = FIN
							original_tag = BAT
							original_tag = EST
							original_tag = LAT
							original_tag = LIT
							original_tag = WHR
							original_tag = UKR
							original_tag = POL
						}
						ROOT = { can_declare_war_on = PREV }
					}
					add_to_war = {
						targeted_alliance = GER
						enemy = ROOT
					}
				}
			}
			if = {
				limit = { has_global_flag = RUSSIAN_OTTOMAN_DEAL }
				custom_effect_tooltip = tooltip_white_line
				ott_russo_ottoman_convention = yes
			}
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = RUS_Enemy_In_The_East
		icon = GFX_focus_attack_japan
		cost = 8

		relative_position_id = RUS_Realpolitik
		x = 2
		y = 1

		available = {
			is_subject = no
			JAP = { is_faction_leader = yes }
			can_declare_war_on = JAP
			NOT = { has_non_aggression_pact_with = JAP }
		}
		bypass = {
			OR = {
				NOT = { can_declare_war_on = JAP }
				has_idea = RUS_treaty_of_moscow
			}
		}

		prerequisite = {
			focus = RUS_Realpolitik
			focus = RUS_Expansionism
		}

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 0
				country_exists = GER #focus on the WK first
			}
			modifier = {
				factor = 0
				RUS_is_expansionist = no
				JAP = { is_faction_leader = no } #realpolitik RUS doesn't care about a defeated JAP
			}
			modifier = {
				factor = 0
				ROOT_is_threatened = yes
			}
			modifier = {
				factor = 0
				JAP = { default_attack_AI_trigger_FROM = yes }
			}
			modifier = {
				factor = 10
				RUS_is_expansionist = yes
			}
		}

		will_lead_to_war_with = JAP
		will_lead_to_war_with = TRM

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Enemy_In_The_East"
			add_state_claim = 537 #Sakhalin
			add_state_claim = 555 #Kurils
			create_wargoal = {
				target = JAP
				type = take_state_focus
				generator = { 525 527 537 555 1099 1100 }
			}
			if = {
				limit = { can_declare_war_on = TRM }
				create_wargoal = {
					target = TRM
					type = annex_everything
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}
}

###########################################
## Russian Socialist Republic Focus Tree ##
## By fbruchmueller and Alpinia          ##
###########################################

focus_tree = {
	id = RUS_focus_socialist

	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = RUS
			has_socialist_government = yes
		}
	}

	default = no
	continuous_focus_position = { x = 0 y = 1800 }

	shared_focus = RUS_Equipment_Modernisation
	shared_focus = RUS_Cold_Warfare
	shared_focus = RUS_Mortar_Development
	shared_focus = RUS_Modernise_The_VVS
	shared_focus = RUS_Take_To_The_Seas

	focus = {
		id = RUS_Rebuild_The_Country
		icon = GFX_goal_big_news
		cost = 8

		x = 7
		y = 0

		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus RUS_Rebuild_The_Country"
			country_event = { id = russoc.102 days = 28 random_days = 4 }
		}
		ai_will_do = { factor = 1000 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Rebuild_The_Country"
			if = {
				limit = { RUS_has_black_monday = no }
				custom_effect_tooltip = RUS_BM_improve_tt
			}
			RUS_reduce_black_monday = yes
		}
	}

	### Political Tree ###
	focus = {
		id = RUS_Proletarian_Humanism
		icon = GFX_goal_workers_for_business
		cost = 4

		relative_position_id = RUS_Rebuild_The_Country
		x = -6
		y = 1

		available = {
			has_government = radical_socialist
		}
		prerequisite = {
			focus = RUS_Rebuild_The_Country
		}
		mutually_exclusive = {
			focus = RUS_Revolutionary_Vanguard
			focus = RUS_Industrial_Democracy
		}
		ai_will_do = { factor = 30 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Proletarian_Humanism"
			remove_ideas = RUS_political_deadlock_2
			custom_effect_tooltip = tooltip_white_line
			add_ideas = RUS_proletarian_humanism_idea_1
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_Fight_Urban_Rural_Conflict
		icon = GFX_goal_Communist_Discourse
		cost = 8

		relative_position_id = RUS_Proletarian_Humanism
		x = 0
		y = 1

		prerequisite = {
			focus = RUS_Proletarian_Humanism
		}
		ai_will_do = { factor = 30 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Fight_Urban_Rural_Conflict"
			if = { #has union control
				limit = { has_idea = RUS_proletarian_humanism_idea_4 }
				swap_ideas = {
					remove_idea = RUS_proletarian_humanism_idea_4
					add_idea = RUS_proletarian_humanism_idea_6
				}
			}
			else_if = { #has industrialisation
				limit = { has_idea = RUS_proletarian_humanism_idea_5 }
				swap_ideas = {
					remove_idea = RUS_proletarian_humanism_idea_5
					add_idea = RUS_proletarian_humanism_idea_8
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_proletarian_humanism_idea_1
					add_idea = RUS_proletarian_humanism_idea_2
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = RUS_Voluntary_Collectivisation
		icon = GFX_goal_agricultural_aid
		cost = 8

		relative_position_id = RUS_Proletarian_Humanism
		x = -1
		y = 2

		prerequisite = {
			focus = RUS_Fight_Urban_Rural_Conflict
		}
		ai_will_do = { factor = 30 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Voluntary_Collectivisation"
			if = { #has union control
				limit = { has_idea = RUS_proletarian_humanism_idea_6 }
				swap_ideas = {
					remove_idea = RUS_proletarian_humanism_idea_6
					add_idea = RUS_proletarian_humanism_idea_7
				}
			}
			else_if = { #has industrialisation
				limit = { has_idea = RUS_proletarian_humanism_idea_8 }
				swap_ideas = {
					remove_idea = RUS_proletarian_humanism_idea_8
					add_idea = RUS_proletarian_humanism_idea_9
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_proletarian_humanism_idea_2
					add_idea = RUS_proletarian_humanism_idea_3
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Cautious_Industrialisation
		icon = GFX_goal_factory_complex
		cost = 8

		relative_position_id = RUS_Proletarian_Humanism
		x = 1
		y = 2

		prerequisite = {
			focus = RUS_Proletarian_Humanism
		}
		prerequisite = {
			focus = RUS_Control_The_Unions
		}
		ai_will_do = { factor = 30 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Cautious_Industrialisation"
			if = { #has urban-rural conflict
				limit = { has_idea = RUS_proletarian_humanism_idea_6 }
				swap_ideas = {
					remove_idea = RUS_proletarian_humanism_idea_6
					add_idea = RUS_proletarian_humanism_idea_8
				}
			}
			else_if = { #has collectivisation
				limit = { has_idea = RUS_proletarian_humanism_idea_7 }
				swap_ideas = {
					remove_idea = RUS_proletarian_humanism_idea_7
					add_idea = RUS_proletarian_humanism_idea_9
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_proletarian_humanism_idea_4
					add_idea = RUS_proletarian_humanism_idea_5
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Control_The_Unions
		icon = GFX_GBR_fate_of_unions
		cost = 8

		relative_position_id = RUS_Proletarian_Humanism
		x = 2
		y = 1

		prerequisite = {
			focus = RUS_Proletarian_Humanism
			focus = RUS_Revolutionary_Vanguard
		}
		ai_will_do = { factor = 40 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Control_The_Unions"
			add_stability = -0.1
			effect_tooltip = {
				if = {
					limit = { has_completed_focus = RUS_Proletarian_Humanism }
					swap_ideas = {
						remove_idea = RUS_proletarian_humanism_idea_1
						add_idea = RUS_proletarian_humanism_idea_4
					}
				}
				else_if = {
					limit = { has_completed_focus = RUS_Revolutionary_Vanguard }
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_1
						add_idea = RUS_revolutionary_vanguard_idea_2
					}
				}
				else = {
					custom_effect_tooltip = RUS_Control_The_Unions_tooltip
				}
			}
			hidden_effect = {
				if = { #has proletarian humanism
					limit = { has_idea = RUS_proletarian_humanism_idea_1 }
					swap_ideas = {
						remove_idea = RUS_proletarian_humanism_idea_1
						add_idea = RUS_proletarian_humanism_idea_4
					}
				}
				else_if = { #has urban-rural conflict
					limit = { has_idea = RUS_proletarian_humanism_idea_2 }
					swap_ideas = {
						remove_idea = RUS_proletarian_humanism_idea_2
						add_idea = RUS_proletarian_humanism_idea_6
					}
				}
				else_if = { #has collectivisation
					limit = { has_idea = RUS_proletarian_humanism_idea_3 }
					swap_ideas = {
						remove_idea = RUS_proletarian_humanism_idea_3
						add_idea = RUS_proletarian_humanism_idea_7
					}
				}
				else_if = { #has revolutionary vanguard
					limit = { has_idea = RUS_revolutionary_vanguard_idea_1 }
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_1
						add_idea = RUS_revolutionary_vanguard_idea_2
					}
				}
				else_if = { #has militarisation of labour
					limit = { has_idea = RUS_revolutionary_vanguard_idea_3 }
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_3
						add_idea = RUS_revolutionary_vanguard_idea_6
					}
				}
				else_if = { #has proletarian revolution
					limit = { has_idea = RUS_revolutionary_vanguard_idea_4 }
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_4
						add_idea = RUS_revolutionary_vanguard_idea_7
					}
				}
				else_if = { #has mass collectivisation
					limit = { has_idea = RUS_revolutionary_vanguard_idea_5 }
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_5
						add_idea = RUS_revolutionary_vanguard_idea_8
					}
				}
				else_if = { #has militarisation of labour and proletarian revolution
					limit = { has_idea = RUS_revolutionary_vanguard_idea_9 }
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_9
						add_idea = RUS_revolutionary_vanguard_idea_11
					}
				}
				else_if = { #has militarisation of labour and mass collectivisation
					limit = { has_idea = RUS_revolutionary_vanguard_idea_10 }
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_10
						add_idea = RUS_revolutionary_vanguard_idea_12
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = RUS_Fight_Bureaucratisation
		icon = GFX_goal_Fight_for_Freedom
		cost = 8

		relative_position_id = RUS_Proletarian_Humanism
		x = 2
		y = 3

		prerequisite = {
			focus = RUS_Control_The_Unions
		}
		ai_will_do = { factor = 50 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Fight_Bureaucratisation"
			add_political_power = 50
			add_research_slot_until_five = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = RUS_Revolutionary_Vanguard
		icon = GFX_goal_generic_globe
		cost = 4

		relative_position_id = RUS_Proletarian_Humanism
		x = 3
		y = 0

		available = {
			has_government = totalist
		}
		prerequisite = {
			focus = RUS_Rebuild_The_Country
		}
		mutually_exclusive = {
			focus = RUS_Proletarian_Humanism
			focus = RUS_Industrial_Democracy
		}
		ai_will_do = { factor = 30 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Revolutionary_Vanguard"
			remove_ideas = RUS_political_deadlock_2
			custom_effect_tooltip = tooltip_white_line
			add_ideas = RUS_revolutionary_vanguard_idea_1
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = RUS_Militarisation_of_Labour
		icon = GFX_goal_Focus_Military_Mobilisation
		cost = 8

		relative_position_id = RUS_Revolutionary_Vanguard
		x = 0
		y = 2

		prerequisite = {
			focus = RUS_Revolutionary_Vanguard
		}
		ai_will_do = { factor = 30 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Militarisation_of_Labour"
			if = { #has union control
				limit = { has_idea = RUS_revolutionary_vanguard_idea_2 }
				swap_ideas = {
					remove_idea = RUS_revolutionary_vanguard_idea_2
					add_idea = RUS_revolutionary_vanguard_idea_6
				}
			}
			else_if = { #has proletarian revolution
				limit = { has_idea = RUS_revolutionary_vanguard_idea_4 }
				swap_ideas = {
					remove_idea = RUS_revolutionary_vanguard_idea_4
					add_idea = RUS_revolutionary_vanguard_idea_9
				}
			}
			else_if = { #has mass collectivisation
				limit = { has_idea = RUS_revolutionary_vanguard_idea_5 }
				swap_ideas = {
					remove_idea = RUS_revolutionary_vanguard_idea_5
					add_idea = RUS_revolutionary_vanguard_idea_10
				}
			}
			else_if = { #has union control and proletarian revolution
				limit = { has_idea = RUS_revolutionary_vanguard_idea_7 }
				swap_ideas = {
					remove_idea = RUS_revolutionary_vanguard_idea_7
					add_idea = RUS_revolutionary_vanguard_idea_11
				}
			}
			else_if = { #has union control and mass collectivisation
				limit = { has_idea = RUS_revolutionary_vanguard_idea_8 }
				swap_ideas = {
					remove_idea = RUS_revolutionary_vanguard_idea_8
					add_idea = RUS_revolutionary_vanguard_idea_12
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_revolutionary_vanguard_idea_1
					add_idea = RUS_revolutionary_vanguard_idea_3
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_First_Five_Year_Plan
		icon = GFX_goal_state_economy
		cost = 8

		relative_position_id = RUS_Revolutionary_Vanguard
		x = 1
		y = 1

		bypass = {
			count_triggers = {
				amount = 3
				num_of_factories > 120
				has_completed_focus = RUS_Khozraschyot
				has_completed_focus = RUS_Mechanisation
				has_completed_focus = RUS_Ural_Tractor_Plants_Socialist
				has_completed_focus = RUS_Expand_The_Transsiberian_Socialist
				has_completed_focus = RUS_Resource_Prospection_Socialist
				has_completed_focus = RUS_Research_Investments_Socialist
			}
		}
		prerequisite = {
			focus = RUS_Revolutionary_Vanguard
		}
		ai_will_do = { factor = 30 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_First_Five_Year_Plan"
			activate_mission = RUS_The_First_Five_Year_Plan
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Proletarian_Revolution
		icon = GFX_goal_Workers_Paradise
		cost = 8

		relative_position_id = RUS_Revolutionary_Vanguard
		x = 3
		y = 1

		prerequisite = {
			focus = RUS_Industrial_Democracy
			focus = RUS_Revolutionary_Vanguard
		}
		ai_will_do = { factor = 40 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Proletarian_Revolution"
			if = {
				limit = { has_completed_focus = RUS_Revolutionary_Vanguard }
				effect_tooltip = {
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_1
						add_idea = RUS_revolutionary_vanguard_idea_4
					}
				}
			}
			else_if = {
				limit = { has_completed_focus = RUS_Industrial_Democracy }
				effect_tooltip = {
					swap_ideas = {
						remove_idea = RUS_industrial_democracy_idea_1
						add_idea = RUS_industrial_democracy_idea_2
					}
				}
			}
			else = {
				custom_effect_tooltip = RUS_Proletarian_Revolution_tooltip
			}
			hidden_effect = {
				if = { #has revolutionary vanguard
					limit = { has_idea = RUS_revolutionary_vanguard_idea_1 }
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_1
						add_idea = RUS_revolutionary_vanguard_idea_4
					}
				}
				else_if = { #has union control
					limit = { has_idea = RUS_revolutionary_vanguard_idea_2 }
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_2
						add_idea = RUS_revolutionary_vanguard_idea_7
					}
				}
				else_if = { #has militarisation of labour
					limit = { has_idea = RUS_revolutionary_vanguard_idea_3 }
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_3
						add_idea = RUS_revolutionary_vanguard_idea_9
					}
				}
				else_if = { #has union control and militarisation of labour
					limit = { has_idea = RUS_revolutionary_vanguard_idea_6 }
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_6
						add_idea = RUS_revolutionary_vanguard_idea_11
					}
				}
				else_if = { #has industrial democracy
					limit = { has_idea = RUS_industrial_democracy_idea_1 }
					swap_ideas = {
						remove_idea = RUS_industrial_democracy_idea_1
						add_idea = RUS_industrial_democracy_idea_2
					}
				}
				else_if = { #has VSR
					limit = { has_idea = RUS_industrial_democracy_idea_5 }
					swap_ideas = {
						remove_idea = RUS_industrial_democracy_idea_5
						add_idea = RUS_industrial_democracy_idea_6
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = RUS_Mass_Collectivisation
		icon = GFX_goal_OTT_Land_Reform
		cost = 8

		relative_position_id = RUS_Revolutionary_Vanguard
		x = 2
		y = 2

		prerequisite = {
			focus = RUS_Proletarian_Revolution
		}
		ai_will_do = {
			factor = 40
			modifier = {
				factor = 0.125
				has_stability < 0.25
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Mass_Collectivisation"
			add_stability = -0.1
			hidden_effect = {
				country_event = { id = russoc.106 days = 60 random_days = 20 }
				country_event = { id = russoc.107 days = 120 random_days = 20 }
			}
			if = {
				limit = { has_completed_focus = RUS_Revolutionary_Vanguard }
				effect_tooltip = {
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_4
						add_idea = RUS_revolutionary_vanguard_idea_5
					}
				}
			}
			else_if = {
				limit = { has_completed_focus = RUS_Industrial_Democracy }
				effect_tooltip = {
					swap_ideas = {
						remove_idea = RUS_industrial_democracy_idea_2
						add_idea = RUS_industrial_democracy_idea_3
					}
				}
			}
			else = {
				custom_effect_tooltip = RUS_Mass_Collectivisation_tooltip
			}
			hidden_effect = {
				if = { #has revolutionary vanguard
					limit = { has_idea = RUS_revolutionary_vanguard_idea_4 }
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_4
						add_idea = RUS_revolutionary_vanguard_idea_5
					}
				}
				else_if = { #has union control
					limit = { has_idea = RUS_revolutionary_vanguard_idea_7 }
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_7
						add_idea = RUS_revolutionary_vanguard_idea_8
					}
				}
				else_if = { #has militarisation of labour
					limit = { has_idea = RUS_revolutionary_vanguard_idea_9 }
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_9
						add_idea = RUS_revolutionary_vanguard_idea_10
					}
				}
				else_if = { #has union control and militarisation of labour
					limit = { has_idea = RUS_revolutionary_vanguard_idea_11 }
					swap_ideas = {
						remove_idea = RUS_revolutionary_vanguard_idea_11
						add_idea = RUS_revolutionary_vanguard_idea_12
					}
				}
				else_if = { #has proletarian revolution
					limit = { has_idea = RUS_industrial_democracy_idea_2 }
					swap_ideas = {
						remove_idea = RUS_industrial_democracy_idea_2
						add_idea = RUS_industrial_democracy_idea_3
					}
				}
				else_if = { #has smychka
					limit = { has_idea = RUS_industrial_democracy_idea_4 }
					swap_ideas = {
						remove_idea = RUS_industrial_democracy_idea_4
						add_idea = RUS_industrial_democracy_idea_9
					}
				}
				else_if = { #has VSR
					limit = { has_idea = RUS_industrial_democracy_idea_6 }
					swap_ideas = {
						remove_idea = RUS_industrial_democracy_idea_6
						add_idea = RUS_industrial_democracy_idea_10
					}
				}
				else_if = { #has smychka and VSR
					limit = { has_idea = RUS_industrial_democracy_idea_7 }
					swap_ideas = {
						remove_idea = RUS_industrial_democracy_idea_7
						add_idea = RUS_industrial_democracy_idea_11
					}
				}
				else_if = { #has separation of powers
					limit = { has_idea = RUS_industrial_democracy_idea_8 }
					swap_ideas = {
						remove_idea = RUS_industrial_democracy_idea_8
						add_idea = RUS_industrial_democracy_idea_12
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Industrial_Democracy
		icon = GFX_goal_generic_workers_democracy
		cost = 4

		relative_position_id = RUS_Proletarian_Humanism
		x = 7
		y = 0

		available = {
			has_government = syndicalist
		}
		prerequisite = {
			focus = RUS_Rebuild_The_Country
		}
		mutually_exclusive = {
			focus = RUS_Revolutionary_Vanguard
			focus = RUS_Proletarian_Humanism
		}
		ai_will_do = { factor = 30 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Industrial_Democracy"
			remove_ideas = RUS_political_deadlock_2
			custom_effect_tooltip = tooltip_white_line
			add_ideas = RUS_industrial_democracy_idea_1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Break_The_Smychka
		icon = GFX_goal_DEI_focus_disband_volksraad
		cost = 8

		relative_position_id = RUS_Industrial_Democracy
		x = 0
		y = 2

		prerequisite = {
			focus = RUS_Industrial_Democracy
		}
		prerequisite = {
			focus = RUS_Proletarian_Revolution
		}
		ai_will_do = { factor = 30 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Break_The_Smychka"
			if = { #has mass collectivisation
				limit = { has_idea = RUS_industrial_democracy_idea_3 }
				swap_ideas = {
					remove_idea = RUS_industrial_democracy_idea_3
					add_idea = RUS_industrial_democracy_idea_9
				}
			}
			else_if = { #has VSR
				limit = { has_idea = RUS_industrial_democracy_idea_6 }
				swap_ideas = {
					remove_idea = RUS_industrial_democracy_idea_6
					add_idea = RUS_industrial_democracy_idea_7
				}
			}
			else_if = { #has mass collectivisation and VSR
				limit = { has_idea = RUS_industrial_democracy_idea_10 }
				swap_ideas = {
					remove_idea = RUS_industrial_democracy_idea_10
					add_idea = RUS_industrial_democracy_idea_11
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_industrial_democracy_idea_2
					add_idea = RUS_industrial_democracy_idea_4
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Create_the_VSR #Vserossiyskiy Sovet Rabochikh - All-Russian Congress of Producers
		icon = GFX_socialist_constitution
		cost = 8

		relative_position_id = RUS_Industrial_Democracy
		x = 1
		y = 1

		prerequisite = {
			focus = RUS_Industrial_Democracy
		}
		ai_will_do = { factor = 30 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Create_the_VSR"
			if = { #has proletarian revolution
				limit = { has_idea = RUS_industrial_democracy_idea_2 }
				swap_ideas = {
					remove_idea = RUS_industrial_democracy_idea_2
					add_idea = RUS_industrial_democracy_idea_6
				}
			}
			else_if = { #has mass collectivisation
				limit = { has_idea = RUS_industrial_democracy_idea_3 }
				swap_ideas = {
					remove_idea = RUS_industrial_democracy_idea_3
					add_idea = RUS_industrial_democracy_idea_10
				}
			}
			else_if = { #has smychka
				limit = { has_idea = RUS_industrial_democracy_idea_4 }
				swap_ideas = {
					remove_idea = RUS_industrial_democracy_idea_4
					add_idea = RUS_industrial_democracy_idea_7
				}
			}
			else_if = { #has mass collectivisation and smychka
				limit = { has_idea = RUS_industrial_democracy_idea_9 }
				swap_ideas = {
					remove_idea = RUS_industrial_democracy_idea_9
					add_idea = RUS_industrial_democracy_idea_11
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_industrial_democracy_idea_1
					add_idea = RUS_industrial_democracy_idea_5
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Separation_Of_Powers
		icon = GFX_goal_constitutional_guarantees
		cost = 8

		relative_position_id = RUS_Industrial_Democracy
		x = 1
		y = 3

		prerequisite = {
			focus = RUS_Create_the_VSR
		}
		prerequisite = {
			focus = RUS_Break_The_Smychka
		}
		ai_will_do = { factor = 50 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Separation_Of_Powers"
			add_research_slot_until_five = yes
			if = { #has mass collectivisation
				limit = { has_idea = RUS_industrial_democracy_idea_11 }
				swap_ideas = {
					remove_idea = RUS_industrial_democracy_idea_11
					add_idea = RUS_industrial_democracy_idea_12
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_industrial_democracy_idea_7
					add_idea = RUS_industrial_democracy_idea_8
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	### Economy Tree ###
	focus = {
		id = RUS_Help_The_People
		icon = GFX_goal_generic_construct_public_housing
		cost = 8

		relative_position_id = RUS_Rebuild_The_Country
		x = 3
		y = 1

		bypass = {
			hidden_trigger = { date > 1936.4.1 }
			RUS_has_black_monday = no
		}

		prerequisite = {
			focus = RUS_Rebuild_The_Country
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Help_The_People"
			set_temp_variable = { ideology_change_var = 5 }
			change_ruling_party_popularity = yes
			if = {
				limit = { RUS_has_black_monday = no }
				custom_effect_tooltip = RUS_BM_improve_tt
			}
			RUS_reduce_black_monday = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = RUS_Rebuild_The_Bureaucracy
		icon = GFX_goal_agency
		cost = 8

		relative_position_id = RUS_Rebuild_The_Country
		x = 5
		y = 1

		bypass = {
			hidden_trigger = { date > 1936.4.1 }
			RUS_has_black_monday = no
		}

		prerequisite = {
			focus = RUS_Rebuild_The_Country
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Rebuild_The_Bureaucracy"
			add_political_power = 50
			if = {
				limit = { RUS_has_black_monday = no }
				custom_effect_tooltip = RUS_BM_improve_tt
			}
			RUS_reduce_black_monday = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = RUS_The_GOELRO_Plan
		icon = GFX_goal_Schelle
		cost = 8

		relative_position_id = RUS_Rebuild_The_Country
		x = 7
		y = 1

		bypass = {
			hidden_trigger = { date > 1936.4.1 }
			RUS_has_black_monday = no
		}

		prerequisite = {
			focus = RUS_Rebuild_The_Country
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_The_GOELRO_Plan"
			if = {
				limit = { RUS_has_black_monday = no }
				custom_effect_tooltip = RUS_BM_improve_tt
			}
			RUS_reduce_black_monday = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = RUS_Allow_Small_Traders
		icon = GFX_goal_generic_positive_trade_relations_gold
		cost = 8

		relative_position_id = RUS_Rebuild_The_Country
		x = 4
		y = 3

		bypass = {
			hidden_trigger = { date > 1936.4.1 }
			RUS_has_black_monday = no
		}

		prerequisite = {
			focus = RUS_Help_The_People
		}
		prerequisite = {
			focus = RUS_Rebuild_The_Bureaucracy
		}
		prerequisite = {
			focus = RUS_The_GOELRO_Plan
		}
		ai_will_do = { factor = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Allow_Small_Traders"
			add_political_power = 50
			if = {
				limit = { RUS_has_black_monday = no }
				custom_effect_tooltip = RUS_BM_improve_tt
			}
			RUS_reduce_black_monday = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = RUS_Form_Gosplan
		icon = GFX_goal_economic_control
		cost = 8

		relative_position_id = RUS_Rebuild_The_Country
		x = 6
		y = 2

		prerequisite = {
			focus = RUS_Help_The_People
		}
		prerequisite = {
			focus = RUS_Rebuild_The_Bureaucracy
		}
		prerequisite = {
			focus = RUS_The_GOELRO_Plan
		}
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 1.5
				has_active_mission = RUS_The_First_Five_Year_Plan
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Form_Gosplan"
			add_ideas = RUS_gosplan_1
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = RUS_ivan_smirnov
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = RUS_ivar_smilga
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Mechanisation
		icon = GFX_focus_AUS_agriculture
		cost = 8

		relative_position_id = RUS_Form_Gosplan
		x = 2
		y = 1

		prerequisite = {
			focus = RUS_Form_Gosplan
		}
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 1.5
				has_active_mission = RUS_The_First_Five_Year_Plan
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Mechanisation"
			if = {
				limit = { has_idea = RUS_gosplan_2 } #has industrialisation
				swap_ideas = {
					remove_idea = RUS_gosplan_2
					add_idea = RUS_gosplan_8
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_3 } #has khozraschyot
				swap_ideas = {
					remove_idea = RUS_gosplan_3
					add_idea = RUS_gosplan_9
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_5 } #has tankograd
				swap_ideas = {
					remove_idea = RUS_gosplan_5
					add_idea = RUS_gosplan_12
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_7 } #has industrialisation + khozraschyot
				swap_ideas = {
					remove_idea = RUS_gosplan_7
					add_idea = RUS_gosplan_10
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_11 } #has tankograd + khozraschyot
				swap_ideas = {
					remove_idea = RUS_gosplan_11
					add_idea = RUS_gosplan_13
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_15 } #has research + khozraschyot
				swap_ideas = {
					remove_idea = RUS_gosplan_15
					add_idea = RUS_gosplan_16
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_gosplan_1
					add_idea = RUS_gosplan_4
				}
			}
			activate_targeted_decision = { target = 220 decision = RUS_Develop_Civilian_Industry_In_State } #Kursk
			activate_targeted_decision = { target = 217 decision = RUS_Develop_Civilian_Industry_In_State } #Tsaritsyn
			activate_targeted_decision = { target = 249 decision = RUS_Develop_Civilian_Industry_In_State } #Kazan
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Khozraschyot
		icon = GFX_focus_DEN_limited_regulations
		cost = 8

		relative_position_id = RUS_Form_Gosplan
		x = 0
		y = 1

		prerequisite = {
			focus = RUS_Form_Gosplan
		}
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 1.5
				has_active_mission = RUS_The_First_Five_Year_Plan
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Khozraschyot"
			if = {
				limit = { has_idea = RUS_gosplan_2 } #has industrialisation
				swap_ideas = {
					remove_idea = RUS_gosplan_2
					add_idea = RUS_gosplan_7
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_4 } #has mechanisation
				swap_ideas = {
					remove_idea = RUS_gosplan_4
					add_idea = RUS_gosplan_9
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_5 } #has tankograd
				swap_ideas = {
					remove_idea = RUS_gosplan_5
					add_idea = RUS_gosplan_11
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_8 } #has industrialisation + mechanisation
				swap_ideas = {
					remove_idea = RUS_gosplan_8
					add_idea = RUS_gosplan_10
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_12 } #has tankograd + mechanisation
				swap_ideas = {
					remove_idea = RUS_gosplan_12
					add_idea = RUS_gosplan_13
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_15 } #has research + mechanisation
				swap_ideas = {
					remove_idea = RUS_gosplan_15
					add_idea = RUS_gosplan_16
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_gosplan_1
					add_idea = RUS_gosplan_3
				}
			}
			activate_targeted_decision = { target = 398 decision = RUS_Develop_Military_Industry_In_State } #Perm
			activate_targeted_decision = { target = 651 decision = RUS_Develop_Civilian_Industry_In_State } #Ufa
			activate_targeted_decision = { target = 209 decision = RUS_Develop_Civilian_Industry_In_State } #Pskov
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Promote_Industrialisation
		icon = GFX_goal_social_reforms
		cost = 8

		relative_position_id = RUS_Form_Gosplan
		x = -1
		y = 2

		prerequisite = {
			focus = RUS_Allow_Small_Traders
		}
		prerequisite = {
			focus = RUS_Form_Gosplan
		}
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 1.5
				has_active_mission = RUS_The_First_Five_Year_Plan
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Promote_Industrialisation"
			if = {
				limit = { has_idea = RUS_gosplan_3 } #has khozraschyot
				swap_ideas = {
					remove_idea = RUS_gosplan_3
					add_idea = RUS_gosplan_7
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_4 } #has mechanisation
				swap_ideas = {
					remove_idea = RUS_gosplan_4
					add_idea = RUS_gosplan_8
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_9 } #has khozraschyot + mechanisation
				swap_ideas = {
					remove_idea = RUS_gosplan_9
					add_idea = RUS_gosplan_10
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_gosplan_1
					add_idea = RUS_gosplan_2
				}
			}
			activate_targeted_decision = { target = 263 decision = RUS_Develop_Civilian_Industry_In_State } #Novgorod
			activate_targeted_decision = { target = 248 decision = RUS_Develop_Civilian_Industry_In_State } #Yaroslavl
			activate_targeted_decision = { target = 252 decision = RUS_Develop_Civilian_Industry_In_State } #Nizhny Novgorod
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Ural_Tractor_Plants_Socialist
		text = RUS_Ural_Tractor_Plants
		icon = GFX_goal_generic_heavy_armour_russian
		cost = 8

		relative_position_id = RUS_Promote_Industrialisation
		x = -2
		y = 1

		available = {
			572 = { is_owned_and_controlled_by = ROOT }
		}
		prerequisite = {
			focus = RUS_Promote_Industrialisation
		}
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 1.5
				has_active_mission = RUS_The_First_Five_Year_Plan
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Ural_Tractor_Plants_Socialist"
			if = {
				limit = { has_idea = RUS_gosplan_7 } #has khozraschyot
				swap_ideas = {
					remove_idea = RUS_gosplan_7
					add_idea = RUS_gosplan_11
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_8 } #has mechanisation
				swap_ideas = {
					remove_idea = RUS_gosplan_8
					add_idea = RUS_gosplan_12
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_10 } #has khozraschyot + mechanisation
				swap_ideas = {
					remove_idea = RUS_gosplan_10
					add_idea = RUS_gosplan_13
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_gosplan_2
					add_idea = RUS_gosplan_5
				}
			}
			572 = {
				if = {
					limit = { has_state_flag = RUS_developed_tractor_plants }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				else = {
					set_state_flag = RUS_developed_tractor_plants
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 4
						instant_build = yes
					}
					add_resource = {
						type = steel
						amount = 25
					}
				}
			}
			activate_targeted_decision = { target = 653 decision = RUS_Develop_Military_Industry_In_State } #Yekaterinburg
			activate_targeted_decision = { target = 572 decision = RUS_Develop_Civilian_Industry_In_State } #Chelyabinsk
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Expand_The_Transsiberian_Socialist
		text = RUS_Expand_The_Transsiberian
		icon = GFX_goal_generic_railroad
		cost = 8

		relative_position_id = RUS_Promote_Industrialisation
		x = 0
		y = 1

		available = {
			561 = { is_owned_and_controlled_by = ROOT } # Amur
			563 = { is_owned_and_controlled_by = ROOT } # Chita
			564 = { is_owned_and_controlled_by = ROOT } # Verkhneudinsk
			566 = { is_owned_and_controlled_by = ROOT } # Irkutsk
			567 = { is_owned_and_controlled_by = ROOT } # Bratsk
			568 = { is_owned_and_controlled_by = ROOT } # Krasnoyarsk
			569 = { is_owned_and_controlled_by = ROOT } # Shcheglovsk
			657 = { is_owned_and_controlled_by = ROOT } # Blagoveshchensk
		}
		prerequisite = {
			focus = RUS_Promote_Industrialisation
		}
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 1.5
				has_active_mission = RUS_The_First_Five_Year_Plan
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Expand_The_Transsiberian_Socialist"
			if = {
				limit = { owns_state = 408 }
				build_railway = {
					start_province = 6380
					target_province = 957
				}
			}
			else = {
				build_railway = {
					start_province = 6380
					target_province = 12189
				}
			}
			every_owned_state = {
				tooltip = RUS_all_states_with_less_than_three_infra
				limit = {
					is_siberia = yes
					is_controlled_by = ROOT
					infrastructure < 3
				}
				add_building_construction = { type = infrastructure level = 1 }
			}
			custom_effect_tooltip = tooltip_white_line
			activate_targeted_decision = { target = 571 decision = RUS_Develop_Civilian_Industry_In_State } #Omsk
			activate_targeted_decision = { target = 570 decision = RUS_Develop_Military_Industry_In_State } #Novo-Nikolayevsk
			activate_targeted_decision = { target = 568 decision = RUS_Develop_Civilian_Industry_In_State } #Krasnoyarsk
			activate_targeted_decision = { target = 566 decision = RUS_Develop_Civilian_Industry_In_State } #Irkutsk
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Resource_Prospection_Socialist
		text = RUS_Resource_Prospection
		icon = GFX_goal_generic_coal_mining
		cost = 8

		relative_position_id = RUS_Promote_Industrialisation
		x = 2
		y = 1

		prerequisite = {
			focus = RUS_Promote_Industrialisation
		}
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 1.5
				has_active_mission = RUS_The_First_Five_Year_Plan
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Resource_Prospection_Socialist"
			activate_targeted_decision = { target = 569 decision = RUS_KuzBass_Coal_Mining }
			activate_targeted_decision = { target = 961 decision = RUS_Grozny_Oil_Fields }
			activate_targeted_decision = { target = 722 decision = RUS_Pechenga_Nickel_Mining }
			activate_targeted_decision = { target = 568 decision = RUS_Tunguss_Basin_Coal_Mining }
			activate_targeted_decision = { target = 137 decision = RUS_Kamysh_Burunskiy_Iron_Ore }
			activate_targeted_decision = { target = 264 decision = RUS_Tikhvin_Bauxite_Mining }
			activate_targeted_decision = { target = 218 decision = RUS_Azov_Black_Sea_DonBass_Mining }
			activate_targeted_decision = { target = 213 decision = RUS_Kovdor_Iron_Ore_Deposits }
			activate_targeted_decision = { target = 653 decision = RUS_Kamenskiy_Uralskiy_Aluminium_Plant }
			activate_targeted_decision = { target = 787 decision = RUS_Tyrnyauz_Tungsten_Mining }
			activate_targeted_decision = { target = 249 decision = RUS_Romashkino_Oil_Field }
			activate_targeted_decision = { target = 653 decision = RUS_Kachkanar_Exploitation }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = RUS_Research_Investments_Socialist
		text = RUS_Research_Investments
		icon = GFX_focus_research2
		cost = 8

		relative_position_id = RUS_Promote_Industrialisation
		x = 0
		y = 2

		prerequisite = {
			focus = RUS_Ural_Tractor_Plants_Socialist
		}
		prerequisite = {
			focus = RUS_Expand_The_Transsiberian_Socialist
		}
		prerequisite = {
			focus = RUS_Resource_Prospection_Socialist
		}
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 1.5
				has_active_mission = RUS_The_First_Five_Year_Plan
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Research_Investments_Socialist"
			if = {
				limit = { has_idea = RUS_gosplan_11 } #has khozraschyot
				swap_ideas = {
					remove_idea = RUS_gosplan_11
					add_idea = RUS_gosplan_14
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_12 } #has mechanisation
				swap_ideas = {
					remove_idea = RUS_gosplan_12
					add_idea = RUS_gosplan_15
				}
			}
			else_if = {
				limit = { has_idea = RUS_gosplan_13 } #has khozraschyot + mechanisation
				swap_ideas = {
					remove_idea = RUS_gosplan_13
					add_idea = RUS_gosplan_16
				}
			}
			else = {
				swap_ideas = {
					remove_idea = RUS_gosplan_5
					add_idea = RUS_gosplan_6
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	### Foreign Tree ###
	focus = {
		id = RUS_Liberate_Central_Asia
		icon = GFX_focus_generic_eagle
		cost = 6

		relative_position_id = RUS_Rebuild_The_Country
		x = 9
		y = 1

		available = {
			threat > 0.15
			RUS_has_black_monday = no
		}
		bypass = {
			OR = {
				is_subject = yes
				AND = {
					NOT = { can_declare_war_on = ALO }
					NOT = { can_declare_war_on = TRK }
					NOT = { can_declare_war_on = BUK }
					NOT = { can_declare_war_on = KHI }
				}
			}
		}
		prerequisite = {
			focus = RUS_Rebuild_The_Country
		}
		will_lead_to_war_with = ALO
		will_lead_to_war_with = TRK
		will_lead_to_war_with = BUK
		will_lead_to_war_with = KHI
		ai_will_do = {
			factor = 1000
			modifier = {
				factor = 0
				RUS_dont_attack_if_vulnerable_or_preparing = yes
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Liberate_Central_Asia"
			add_state_claim = 418 #Ashkhabad
			if = {
				limit = { can_declare_war_on = ALO }
				declare_war_on = {
					target = ALO
					type = annex_everything
				}
			}
			if = {
				limit = { can_declare_war_on = TRK }
				declare_war_on = {
					target = TRK
					type = annex_everything
				}
			}
			if = {
				limit = { can_declare_war_on = BUK }
				declare_war_on = {
					target = BUK
					type = annex_everything
				}
			}
			if = {
				limit = { can_declare_war_on = KHI }
				declare_war_on = {
					target = KHI
					type = annex_everything
				}
			}
			add_named_threat = {
				threat = 4
				name = RUS_central_asia_threat
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = RUS_Spreading_The_Revolution
		icon = GFX_goal_FRA_french_revanchism
		cost = 6

		relative_position_id = RUS_Liberate_Central_Asia
		x = 0
		y = 1

		bypass = {
			is_subject = yes
		}
		prerequisite = {
			focus = RUS_Liberate_Central_Asia
		}

		ai_will_do = {
			factor = 1000
			modifier = {
				factor = 0
				RUS_has_black_monday = yes
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_Spreading_The_Revolution"
			if = {
				limit = { NOT = { country_exists = INT } }
				save_global_event_target_as = KR_internationale_leader
				create_faction = fourth_internationale
			}
			else = {
				set_country_flag = world_tension_joined_radical_faction
				create_faction = eastern_front_internationale
				add_named_threat = {
					threat = 6
					name = RUS_spreading_the_revolution_threat
				}
				if = {
					limit = { has_global_flag = FRA_created_phalanstere }
					FRA_add_to_phalanstere = yes
				}
				custom_effect_tooltip = tooltip_white_line
				INT = {
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
					}
				}
				custom_effect_tooltip = tooltip_white_line
				every_other_country = {
					limit = {
						is_subject = no
						is_in_faction_with = INT
						NOT = {
							tag = INT
							tag = FIN
							tag = EST
							tag = LAT
							tag = LIT
							tag = WHR
							tag = UKR
							tag = POL
						}
					}
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
					}
				}
				if = {
					limit = {
						INT = {
							any_allied_country = {
								OR = {
									tag = FIN
									tag = EST
									tag = LAT
									tag = LIT
									tag = WHR
									tag = UKR
									tag = POL
								}
								is_subject = no
							}
						}
					}
					custom_effect_tooltip = tooltip_white_line
					every_other_country = {
						limit = {
							is_subject = no
							is_in_faction_with = INT
							OR = {
								tag = FIN
								tag = EST
								tag = LAT
								tag = LIT
								tag = WHR
								tag = UKR
								tag = POL
							}
						}
						country_event = russoc.114
					}
				}
			}
			custom_effect_tooltip = tooltip_white_line
			unlock_decision_category_tooltip = RUS_Spreading_The_Revolution_decisions
			hidden_effect = { MIE_form_intermarium = yes }
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = RUS_The_Final_Battle
		icon = GFX_focus_ger_great_red_menace
		cost = 6

		relative_position_id = RUS_Spreading_The_Revolution
		x = 0
		y = 2

		available = {
			second_weltkrieg_can_start = yes
			is_faction_leader = yes
		}
		continue_if_invalid = yes

		cancel = {
			OR = {
				is_faction_leader = no
				has_country_flag = KR_copenhagen_conference_success
			}
		}
		bypass = {
			OR = {
				is_subject = yes
				NOT = { can_declare_war_on = GER }
			}
		}
		prerequisite = {
			focus = RUS_Spreading_The_Revolution
		}
		ai_will_do = {
			factor = 3000
			modifier = {
				factor = 0
				date < 1939.6.1
			}
			modifier = {
				factor = 0
				RUS_dont_attack_if_vulnerable_or_preparing = yes
			}
			modifier = {
				factor = 0
				UKR = {
					is_in_faction_with = GER
					RUS_dont_attack_if_target_is_stronger = yes
				}
			}
			modifier = {
				factor = 0
				POL = {
					is_in_faction_with = GER
					RUS_dont_attack_if_target_is_stronger = yes
				}
			}
		}
		will_lead_to_war_with = GER
		will_lead_to_war_with = AUS
		will_lead_to_war_with = UKR
		will_lead_to_war_with = GEO
		will_lead_to_war_with = AZR
		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus RUS_The_Final_Battle"
			set_country_flag = { flag = imminent_war days = 60 value = 1 }
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus RUS_The_Final_Battle"
			if = {
				limit = { FIN = { has_socialist_government = no } }
				add_state_claim = 146 #Karelia
			}
			add_state_claim = 537 #Sakhalin
			add_state_claim = 555 #Kurils
			declare_war_on = {
				target = GER
				type = annex_everything
			}
			if = {
				limit = {
					can_declare_war_on = GEO
					GEO = {
						OR = {
							is_subject = no
							is_ally_with = GER
							is_guaranteed_by = GER
						}
					}
				}
				declare_war_on = {
					target = GEO
					type = annex_everything
				}
			}
			if = {
				limit = {
					can_declare_war_on = AZR
					AZR = {
						OR = {
							is_subject = no
							is_ally_with = GER
							is_guaranteed_by = GER
						}
					}
				}
				declare_war_on = {
					target = AZR
					type = annex_everything
				}
			}
			if = {
				limit = {
					can_declare_war_on = WHR
					WHR = {
						has_socialist_government = no
						NOT = { is_in_faction_with = GER }
					}
				}
				declare_war_on = {
					target = WHR
					type = annex_everything
				}
			}
			if = {
				limit = {
					can_declare_war_on = UKR
					UKR = {
						has_socialist_government = no
						NOT = { is_in_faction_with = GER }
					}
				}
				declare_war_on = {
					target = UKR
					type = annex_everything
				}
			}
			hidden_effect = {
				every_other_country = {
					limit = {
						is_in_faction_with = GER
						OR = {
							original_tag = FIN
							original_tag = BAT
							original_tag = EST
							original_tag = LAT
							original_tag = LIT
							original_tag = WHR
							original_tag = UKR
							original_tag = POL
						}
						ROOT = { can_declare_war_on = PREV }
					}
					add_to_war = {
						targeted_alliance = GER
						enemy = ROOT
					}
				}
				WHR = { country_event = { id = whrpol.53 days = 2 } }
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}
}

################
### Military ###
################

### Army Tree ###
shared_focus = {
	id = RUS_Equipment_Modernisation
	icon = GFX_focus_secret_rearmament
	cost = 8

	x = 25
	y = 6

	offset = {
		x = -5
		y = -6
		trigger = { has_socialist_government = yes }
	}

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Equipment_Modernisation"
		add_one_random_military_factory = yes
		custom_effect_tooltip = tooltip_white_line
		add_tech_bonus = {
			name = RUS_Equipment_Modernisation
			bonus = 0.75
			uses = 2
			category = infantry_weapons
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Cold_Warfare
	icon = GFX_focus_generic_winter_warfare
	cost = 8

	relative_position_id = RUS_Equipment_Modernisation
	x = 2
	y = 0

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Cold_Warfare"
		add_ideas = RUS_winter_warfare_training
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = winter_logistics_support_tech_effect
		hidden_effect = {
			set_technology = { winter_logistics_support_tech = 1 popup = no }
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Mortar_Development
	icon = GFX_goal_generic_army_artillery
	cost = 8

	relative_position_id = RUS_Equipment_Modernisation
	x = 4
	y = 0

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Mortar_Development"
		add_one_random_military_factory = yes
		custom_effect_tooltip = tooltip_white_line
		add_tech_bonus = {
			name = RUS_Mortar_Development
			bonus = 0.75
			uses = 2
			category = artillery
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Military_Reorganisation
	icon = {
		value = GFX_goal_RUS_army_socialist
		trigger = { has_socialist_government = yes }
	}
	icon = {
		value = GFX_goal_RUS_army
	}

	cost = 8
	relative_position_id = RUS_Cold_Warfare
	x = 0
	y = 1

	prerequisite = {
		focus = RUS_Equipment_Modernisation
	}
	prerequisite = {
		focus = RUS_Cold_Warfare
	}
	prerequisite = {
		focus = RUS_Mortar_Development
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Military_Reorganisation"
		army_experience = 50
		add_command_power = 25
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Centralised_Command
	icon = GFX_focus_generic_full_social_mobilization
	cost = 8

	relative_position_id = RUS_Military_Reorganisation
	x = -2
	y = 1

	mutually_exclusive = {
		focus = RUS_Asymmetric_Tactics
	}
	prerequisite = {
		focus = RUS_Military_Reorganisation
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Centralised_Command"
		add_ideas = RUS_centralised_army_command_1
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Empower_the_Generals
	icon = GFX_focus_generic_military_mission
	cost = 8

	relative_position_id = RUS_Centralised_Command
	x = -1
	y = 1

	prerequisite = {
		focus = RUS_Centralised_Command
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Empower_the_Generals"
		if = {
			limit = { has_idea = RUS_centralised_army_command_4 }
			swap_ideas = {
				remove_idea = RUS_centralised_army_command_4
				add_idea = RUS_centralised_army_command_5
			}
		}
		else = {
			swap_ideas = {
				remove_idea = RUS_centralised_army_command_1
				add_idea = RUS_centralised_army_command_2
			}
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Streamline_Intelligence_Gathering
	icon = GFX_goal_generic_espionage
	cost = 8

	relative_position_id = RUS_Centralised_Command
	x = -1
	y = 2

	prerequisite = {
		focus = RUS_Empower_the_Generals
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Streamline_Intelligence_Gathering"
		if = {
			limit = { has_dlc_lar = yes }
			set_temp_variable = { upgrades = 3 }
			if = {
				limit = { has_intelligence_agency = no }
				create_intelligence_agency = yes
				subtract_from_temp_variable = { upgrades = 1 }
			}
			if = {
				limit = {
					NOT = { has_done_agency_upgrade = upgrade_form_department }
					check_variable = { upgrades > 0 }
				}
				upgrade_intelligence_agency = upgrade_form_department
				subtract_from_temp_variable = { upgrades = 1 }
			}
			if = {
				limit = {
					NOT = { has_done_agency_upgrade = upgrade_decryption_boost }
					check_variable = { upgrades > 0 }
				}
				upgrade_intelligence_agency = upgrade_decryption_boost
				subtract_from_temp_variable = { upgrades = 1 }
			}
			else_if = {
				limit = {
					NOT = { has_done_agency_upgrade = upgrade_decryption_boost_2 }
					check_variable = { upgrades > 0 }
				}
				upgrade_intelligence_agency = upgrade_decryption_boost_2
				subtract_from_temp_variable = { upgrades = 1 }
			}
			if = {
				limit = {
					NOT = { has_done_agency_upgrade = upgrade_crypto_strength }
					check_variable = { upgrades > 0 }
				}
				upgrade_intelligence_agency = upgrade_crypto_strength
				subtract_from_temp_variable = { upgrades = 1 }
			}
			else_if = {
				limit = {
					NOT = { has_done_agency_upgrade = upgrade_crypto_strength_2 }
					check_variable = { upgrades > 0 }
				}
				upgrade_intelligence_agency = upgrade_crypto_strength_2
				subtract_from_temp_variable = { upgrades = 1 }
			}
			if = {
				limit = { check_variable = { upgrades > 0 } }
				gain_random_agency_upgrade = yes
			}
			if = {
				limit = { check_variable = { upgrades > 1 } }
				gain_random_agency_upgrade = yes
			}
			if = {
				limit = { check_variable = { upgrades > 2 } }
				gain_random_agency_upgrade = yes
			}
		}
		else = {
			army_experience = 25
			add_command_power = 50
		}
		custom_effect_tooltip = tooltip_white_line
		if = {
			limit = { has_idea = RUS_centralised_army_command_5 }
			swap_ideas = {
				remove_idea = RUS_centralised_army_command_5
				add_idea = RUS_centralised_army_command_6
			}
		}
		else = {
			swap_ideas = {
				remove_idea = RUS_centralised_army_command_2
				add_idea = RUS_centralised_army_command_3
			}
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Cossack_Cavalry
	icon = GFX_focus_FIN_strengthen_military_administration
	cost = 8

	relative_position_id = RUS_Centralised_Command
	x = 1
	y = 1

	prerequisite = {
		focus = RUS_Centralised_Command
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Cossack_Cavalry"
		if = {
			limit = { has_idea = RUS_centralised_army_command_2 }
			swap_ideas = {
				remove_idea = RUS_centralised_army_command_2
				add_idea = RUS_centralised_army_command_5
			}
		}
		else_if = {
			limit = { has_idea = RUS_centralised_army_command_3 }
			swap_ideas = {
				remove_idea = RUS_centralised_army_command_3
				add_idea = RUS_centralised_army_command_6
			}
		}
		else = {
			swap_ideas = {
				remove_idea = RUS_centralised_army_command_1
				add_idea = RUS_centralised_army_command_4
			}
		}
		division_template = {
			name = "Kazachya Kavaleryskaya Diviziya"
			division_names_group = RUS_CAV_01
			template_counter = 5
			regiments = {
				cavalry = { x = 0 y = 0 }
				cavalry = { x = 0 y = 1 }
				cavalry = { x = 1 y = 0 }
				cavalry = { x = 1 y = 1 }
				mot_artillery_brigade = { x = 2 y = 0 }
				light_armor = { x = 3 y = 0 }
			}
			support = {
				engineer = { x = 0 y = 0 }
				artillery = { x = 0 y = 1 }
				recon = { x = 0 y = 2 }
			}
		}
		capital_scope = {
			custom_effect_tooltip = RUS_cossack_cavalry_tt
			hidden_effect = {
				create_unit = {
					division = "division_template = \"Kazachya Kavaleryskaya Diviziya\" start_experience_factor = 0.8"
					owner = ROOT
					count = 5
				}
			}
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = RUS_gerasim_vdovenko
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = RUS_Protectors_of_the_Motherland
	icon = GFX_focus_SOV_restore_cossack_units
	cost = 8

	relative_position_id = RUS_Centralised_Command
	x = 0
	y = 3

	prerequisite = {
		focus = RUS_Cossack_Cavalry
	}
	prerequisite = {
		focus = RUS_Streamline_Intelligence_Gathering
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Protectors_of_the_Motherland"
		army_experience = 40
		swap_ideas = {
			remove_idea = RUS_centralised_army_command_6
			add_idea = RUS_centralised_army_command_7
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = masterful_blitz_effect
		hidden_effect = {
			set_technology = { masterful_blitz = 1 popup = no }
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Reorganise_Armament_Production
	icon = GFX_focus_generic_reorient_production
	cost = 8

	relative_position_id = RUS_Military_Reorganisation
	x = 1
	y = 2

	prerequisite = {
		focus = RUS_Centralised_Command
		focus = RUS_Asymmetric_Tactics
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Reorganise_Armament_Production"
		add_ideas = RUS_ministry_of_armaments_1
		custom_effect_tooltip = tooltip_white_line
		add_tech_bonus = {
			name = RUS_Reorganise_Armament_Production
			bonus = 0.75
			uses = 2
			category = support_tech
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Expand_the_Logistics_Corps
	icon = GFX_goal_generic_war_in_the_plate
	cost = 8

	relative_position_id = RUS_Reorganise_Armament_Production
	x = -1
	y = 1

	prerequisite = {
		focus = RUS_Centralised_Command
	}
	prerequisite = {
		focus = RUS_Reorganise_Armament_Production
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Expand_the_Logistics_Corps"
		swap_ideas = {
			remove_idea = RUS_ministry_of_armaments_1
			add_idea = RUS_ministry_of_armaments_2
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Local_Workshops
	icon = GFX_focus_generic_modernize_industry
	cost = 8

	relative_position_id = RUS_Reorganise_Armament_Production
	x = 1
	y = 1

	prerequisite = {
		focus = RUS_Reorganise_Armament_Production
	}
	prerequisite = {
		focus = RUS_Asymmetric_Tactics
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Local_Workshops"
		swap_ideas = {
			remove_idea = RUS_ministry_of_armaments_1
			add_idea = RUS_ministry_of_armaments_3
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Terrestrial_Dreadnoughts
	icon = GFX_focus_SOV_the_glory_of_the_red_army_alternative
	cost = 8

	relative_position_id = RUS_Reorganise_Armament_Production
	x = 0
	y = 2

	prerequisite = {
		focus = RUS_Local_Workshops
		focus = RUS_Expand_the_Logistics_Corps
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Terrestrial_Dreadnoughts"
		if = {
			limit = { has_idea = RUS_ministry_of_armaments_2 }
			swap_ideas = {
				remove_idea = RUS_ministry_of_armaments_2
				add_idea = RUS_ministry_of_armaments_4
			}
		}
		else = {
			swap_ideas = {
				remove_idea = RUS_ministry_of_armaments_3
				add_idea = RUS_ministry_of_armaments_5
			}
		}
		add_tech_bonus = {
			name = RUS_Terrestrial_Dreadnoughts
			bonus = 0.75
			uses = 2
			category = armor
		}
		if = {
			limit = { has_dlc_nsb = yes }
			custom_effect_tooltip = tooltip_white_line
			create_equipment_variant = {
				name = "T-34"
				type = medium_tank_chassis_2
				parent_version = 0
				modules = {
					main_armament_slot = tank_medium_cannon
					turret_type_slot = tank_medium_two_man_tank_turret
					suspension_type_slot = tank_christie_suspension
					armor_type_slot = tank_welded_armor
					engine_type_slot = tank_diesel_engine
					special_type_slot_1 = sloped_armor
				}
				upgrades = {
					tank_nsb_engine_upgrade = 10
					tank_nsb_armor_upgrade = 7
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Asymmetric_Tactics
	icon = GFX_focus_FIN_motti_tactics
	cost = 8

	relative_position_id = RUS_Military_Reorganisation
	x = 2
	y = 1

	mutually_exclusive = {
		focus = RUS_Centralised_Command
	}
	prerequisite = {
		focus = RUS_Military_Reorganisation
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Asymmetric_Tactics"
		add_ideas = RUS_asymmetric_warfare_1
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Decentralised_Structure
	icon = GFX_goal_planning_bonus
	cost = 8

	relative_position_id = RUS_Asymmetric_Tactics
	x = 1
	y = 1

	prerequisite = {
		focus = RUS_Asymmetric_Tactics
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Decentralised_Structure"
		swap_ideas = {
			remove_idea = RUS_asymmetric_warfare_1
			add_idea = RUS_asymmetric_warfare_2
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Reconnaissance_Units
	icon = GFX_goal_DOM_Recon
	cost = 8

	relative_position_id = RUS_Asymmetric_Tactics
	x = 2
	y = 2

	prerequisite = {
		focus = RUS_Decentralised_Structure
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Reconnaissance_Units"
		custom_effect_tooltip = improved_recon_units_tech_effect
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = long_range_patrol_support_tech_effect
		hidden_effect = {
			set_technology = { improved_recon_units_tech = 1 popup = no }
			set_technology = { long_range_patrol_support_tech = 1 popup = no }
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Officer_Initiative
	icon = GFX_focus_prc_infiltration
	cost = 8

	relative_position_id = RUS_Asymmetric_Tactics
	x = 4
	y = 2

	prerequisite = {
		focus = RUS_Decentralised_Structure
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Officer_Initiative"
		swap_ideas = {
			remove_idea = RUS_asymmetric_warfare_2
			add_idea = RUS_asymmetric_warfare_3
		}
		every_army_leader = {
			limit = { skill < 3 }
			random_select_amount = 4
			add_skill_level = 1
			add_attack = 1
			add_defense = 1
			add_logistics = 1
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Small_Unit_Tactics
	icon = GFX_focus_generic_manpower
	cost = 8

	relative_position_id = RUS_Asymmetric_Tactics
	x = 2
	y = 3

	prerequisite = {
		focus = RUS_Reconnaissance_Units
	}
	prerequisite = {
		focus = RUS_Local_Workshops
	}
	prerequisite = {
		focus = RUS_Officer_Initiative
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Small_Unit_Tactics"
		swap_ideas = {
			remove_idea = RUS_asymmetric_warfare_3
			add_idea = RUS_asymmetric_warfare_4
		}
		every_unit_leader = {
			limit = {
				skill > 1
				NOT = { has_trait = light_infantry_officer }
			}
			random_select_amount = 6
			add_trait = { trait = light_infantry_officer }
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Superb_Training
	icon = GFX_focus_chi_army_reform
	cost = 8

	relative_position_id = RUS_Military_Reorganisation
	x = -1
	y = 5

	mutually_exclusive = {
		focus = RUS_Combined_Arms
	}
	prerequisite = {
		focus = RUS_Protectors_of_the_Motherland
		focus = RUS_Small_Unit_Tactics
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
		modifier = {
			factor = 0.5
			OR = {
				has_tech = mobile_warfare
				has_tech = superior_firepower
			}
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Superb_Training"
		add_ideas = RUS_superb_training_idea_1
		custom_effect_tooltip = tooltip_white_line
		if = {
			limit = { has_dlc_aat = no }
			add_tech_bonus = {
				name = RUS_Superb_Training
				bonus = 1
				uses = 1
				category = cat_special_forces_generic
			}
		}
		else = {
			add_potential_special_forces_tree = yes
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Expand_The_High_Command
	icon = GFX_focus_generic_military_mission
	cost = 8

	relative_position_id = RUS_Superb_Training
	x = -2
	y = 1

	prerequisite = {
		focus = RUS_Superb_Training
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Expand_The_High_Command"
		if = {
			limit = { has_idea = RUS_superb_training_idea_3 }
			swap_ideas = {
				remove_idea = RUS_superb_training_idea_3
				add_idea = RUS_superb_training_idea_4
			}
		}
		else = {
			swap_ideas = {
				remove_idea = RUS_superb_training_idea_1
				add_idea = RUS_superb_training_idea_2
			}
		}
		add_doctrine_cost_reduction = {
			name = RUS_Expand_The_High_Command
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Officer_Training_Academies
	icon = GFX_focus_generic_military_academy
	cost = 8

	relative_position_id = RUS_Superb_Training
	x = 0
	y = 1

	prerequisite = {
		focus = RUS_Superb_Training
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Officer_Training_Academies"
		if = {
			limit = { has_idea = RUS_superb_training_idea_2 }
			swap_ideas = {
				remove_idea = RUS_superb_training_idea_2
				add_idea = RUS_superb_training_idea_4
			}
		}
		else = {
			swap_ideas = {
				remove_idea = RUS_superb_training_idea_1
				add_idea = RUS_superb_training_idea_3
			}
		}
		add_doctrine_cost_reduction = {
			name = RUS_Officer_Training_Academies
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Professional_Engineer_Corps
	icon = GFX_goal_generic_construction2
	cost = 8

	relative_position_id = RUS_Superb_Training
	x = 2
	y = 1

	prerequisite = {
		focus = RUS_Superb_Training
		focus = RUS_Combined_Arms
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Professional_Engineer_Corps"
		custom_effect_tooltip = expanded_engineer_corps_tech_effect
		hidden_effect = {
			set_technology = { expanded_engineer_corps_tech = 1 popup = no }
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Moscow_Strategic_Echelon
	icon = GFX_focus_SOV_the_defense_of_moscow
	cost = 8

	relative_position_id = RUS_Professional_Engineer_Corps
	x = -1
	y = 1

	available = {
		controls_state = 219
	}
	prerequisite = {
		focus = RUS_Professional_Engineer_Corps
	}

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 10
			219 = { any_neighbor_state = { NOT = { is_controlled_by = ROOT } } }
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Moscow_Strategic_Echelon"
		219 = {
			add_building_construction = { type = anti_air_building level = 2 }
			custom_effect_tooltip = RUS_defensive_measures_forts
			add_dynamic_modifier = { modifier = RUS_defensive_echelon_modifier scope = ROOT }
			hidden_effect = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 6380
					instant_build = yes
				}
				if = {
					limit = { ROOT = { controls_province = 3391 } }
					add_building_construction = {
						type = bunker
						level = 3
						province = 3391
						instant_build = yes
					}
				}
				if = {
					limit = { ROOT = { controls_province = 6414 } }
					add_building_construction = {
						type = bunker
						level = 3
						province = 6414
						instant_build = yes
					}
				}
				if = {
					limit = { ROOT = { controls_province = 9348 } }
					add_building_construction = {
						type = bunker
						level = 3
						province = 9348
						instant_build = yes
					}
				}
				if = {
					limit = { ROOT = { controls_province = 301 } }
					add_building_construction = {
						type = bunker
						level = 3
						province = 301
						instant_build = yes
					}
				}
				if = {
					limit = { ROOT = { controls_province = 9378 } }
					add_building_construction = {
						type = bunker
						level = 3
						province = 9378
						instant_build = yes
					}
				}
				if = {
					limit = { ROOT = { controls_province = 6283 } }
					add_building_construction = {
						type = bunker
						level = 3
						province = 6283
						instant_build = yes
					}
				}
				if = {
					limit = { ROOT = { controls_province = 3259 } }
					add_building_construction = {
						type = bunker
						level = 3
						province = 3259
						instant_build = yes
					}
				}
				if = {
					limit = { ROOT = { controls_province = 11282 } }
					add_building_construction = {
						type = bunker
						level = 3
						province = 11282
						instant_build = yes
					}
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Urban_Defensive_Perimeters
	icon = GFX_goal_generic_defence
	cost = 8

	relative_position_id = RUS_Professional_Engineer_Corps
	x = 1
	y = 1

	available = {
		OR = {
			controls_state = 195 #Petrograd
			controls_state = 217 #Tsaritsyn
		}
	}
	prerequisite = {
		focus = RUS_Professional_Engineer_Corps
	}

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 10
			OR = {
				195 = { any_neighbor_state = { NOT = { is_controlled_by = ROOT } } }
				217 = { any_neighbor_state = { NOT = { is_controlled_by = ROOT } } }
			}
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Urban_Defensive_Perimeters"
		if = {
			limit = { controls_state = 195 }
			195 = {
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				add_dynamic_modifier = { modifier = RUS_defensive_echelon_modifier scope = ROOT }
			}
		}
		if = {
			limit = { controls_state = 217 }
			217 = {
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				add_dynamic_modifier = { modifier = RUS_defensive_echelon_modifier scope = ROOT }
			}
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Combined_Arms
	icon = GFX_focus_generic_combined_arms
	cost = 8

	relative_position_id = RUS_Military_Reorganisation
	x = 3
	y = 5

	mutually_exclusive = {
		focus = RUS_Superb_Training
	}
	prerequisite = {
		focus = RUS_Protectors_of_the_Motherland
		focus = RUS_Small_Unit_Tactics
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
		modifier = {
			factor = 0.5
			OR = {
				has_tech = trench_warfare
				has_tech = mass_assault
			}
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Combined_Arms"
		add_ideas = RUS_combined_arms_idea_1
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = RUS_Mass_Breakthroughs
	icon = GFX_EGY_Operation_Abu
	cost = 8

	relative_position_id = RUS_Combined_Arms
	x = 0
	y = 1

	prerequisite = {
		focus = RUS_Combined_Arms
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Mass_Breakthroughs"
		if = {
			limit = { has_idea = RUS_combined_arms_idea_3 }
			swap_ideas = {
				remove_idea = RUS_combined_arms_idea_3
				add_idea = RUS_combined_arms_idea_4
			}
		}
		else = {
			swap_ideas = {
				remove_idea = RUS_combined_arms_idea_1
				add_idea = RUS_combined_arms_idea_2
			}
		}
		add_tech_bonus = {
			name = RUS_Mass_Breakthroughs
			bonus = 1
			uses = 1
			category = armor
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Land_Air_Integration
	icon = GFX_focus_generic_armored_air_support
	cost = 8

	relative_position_id = RUS_Combined_Arms
	x = 2
	y = 1

	prerequisite = {
		focus = RUS_Combined_Arms
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 4
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Land_Air_Integration"
		if = {
			limit = { has_idea = RUS_combined_arms_idea_2 }
			swap_ideas = {
				remove_idea = RUS_combined_arms_idea_2
				add_idea = RUS_combined_arms_idea_4
			}
		}
		else = {
			swap_ideas = {
				remove_idea = RUS_combined_arms_idea_1
				add_idea = RUS_combined_arms_idea_3
			}
		}
		add_tech_bonus = {
			name = RUS_Land_Air_Integration
			bonus = 1
			uses = 1
			category = cas_bomber
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}

### Air Tree ###
shared_focus = {
	id = RUS_Modernise_The_VVS

	icon = {
		value = GFX_goal_RUS_airforce_socialist
		trigger = { has_socialist_government = yes }
	}
	icon = {
		value = GFX_goal_RUS_airforce
	}

	cost = 8
	x = 10
	y = 7

	offset = {
		x = -3
		trigger = { has_socialist_government = yes }
	}

	ai_will_do = {
		factor = 2
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 3
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Modernise_The_VVS"
		air_experience = 25
		add_doctrine_cost_reduction = {
			name = RUS_Modernise_The_VVS
			uses = 2
			cost_reduction = 0.5
			category = air_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_AIR_XP }
}

shared_focus = {
	id = RUS_Standardise_Pilot_Training
	icon = GFX_focus_FIN_expand_air_force_academy
	cost = 8

	relative_position_id = RUS_Modernise_The_VVS
	x = -2
	y = 1

	prerequisite = {
		focus = RUS_Modernise_The_VVS
	}
	ai_will_do = {
		factor = 2
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 3
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Standardise_Pilot_Training"
		air_experience = 20
		add_ideas = RUS_improved_pilot_training_1
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = RUS_Promote_Amateur_Flying
	icon = GFX_focus_SOV_flying_clubs
	cost = 8

	relative_position_id = RUS_Standardise_Pilot_Training
	x = -1
	y = 1

	prerequisite = {
		focus = RUS_Standardise_Pilot_Training
	}
	ai_will_do = {
		factor = 2
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 3
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Promote_Amateur_Flying"
		air_experience = 15
		if = { #has night witches
			limit = { has_idea = RUS_improved_pilot_training_3 }
			swap_ideas = {
				remove_idea = RUS_improved_pilot_training_3
				add_idea = RUS_improved_pilot_training_5
			}
		}
		else_if = { #has aviation bureaus
			limit = { has_idea = RUS_improved_pilot_training_4 }
			swap_ideas = {
				remove_idea = RUS_improved_pilot_training_4
				add_idea = RUS_improved_pilot_training_6
			}
		}
		else_if = { #has both
			limit = { has_idea = RUS_improved_pilot_training_7 }
			swap_ideas = {
				remove_idea = RUS_improved_pilot_training_7
				add_idea = RUS_improved_pilot_training_8
			}
		}
		else = {
			swap_ideas = {
				remove_idea = RUS_improved_pilot_training_1
				add_idea = RUS_improved_pilot_training_2
			}
		}
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = RUS_Night_Witches
	icon = GFX_focus_SOV_women_in_aviation
	cost = 8

	relative_position_id = RUS_Standardise_Pilot_Training
	x = 0
	y = 2

	prerequisite = {
		focus = RUS_Standardise_Pilot_Training
	}
	ai_will_do = {
		factor = 2
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 3
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Night_Witches"
		if = { #has amateur flying
			limit = { has_idea = RUS_improved_pilot_training_2 }
			swap_ideas = {
				remove_idea = RUS_improved_pilot_training_2
				add_idea = RUS_improved_pilot_training_5
			}
		}
		else_if = { #has aviation bureaus
			limit = { has_idea = RUS_improved_pilot_training_4 }
			swap_ideas = {
				remove_idea = RUS_improved_pilot_training_4
				add_idea = RUS_improved_pilot_training_7
			}
		}
		else_if = { #has both
			limit = { has_idea = RUS_improved_pilot_training_6 }
			swap_ideas = {
				remove_idea = RUS_improved_pilot_training_6
				add_idea = RUS_improved_pilot_training_8
			}
		}
		else = {
			swap_ideas = {
				remove_idea = RUS_improved_pilot_training_1
				add_idea = RUS_improved_pilot_training_3
			}
		}
		set_rule = { can_generate_female_aces = yes }
		add_ace = {
			name = "Yevdokiya"
			surname = "Bershanskaya"
			callsign = "Ghost"
			type = support_unique
			is_female = yes
		}
		add_ace = {
			name = "Marina"
			surname = "Raskova"
			callsign = "Night Witch"
			type = bomber_unique
			is_female = yes
		}
		add_ace = {
			name = "Lydia"
			surname = "Litvyak"
			callsign = "White Lily"
			type = fighter_unique
			is_female = yes
		}
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = RUS_Aviation_Bureaus
	icon = GFX_goal_generic_design_equipment_standards
	cost = 8

	relative_position_id = RUS_Standardise_Pilot_Training
	x = 1
	y = 1

	prerequisite = {
		focus = RUS_Standardise_Pilot_Training
	}
	ai_will_do = {
		factor = 2
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 3
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Aviation_Bureaus"
		if = { #has amateur flying
			limit = { has_idea = RUS_improved_pilot_training_2 }
			swap_ideas = {
				remove_idea = RUS_improved_pilot_training_2
				add_idea = RUS_improved_pilot_training_6
			}
		}
		else_if = { #has night witches
			limit = { has_idea = RUS_improved_pilot_training_3 }
			swap_ideas = {
				remove_idea = RUS_improved_pilot_training_3
				add_idea = RUS_improved_pilot_training_7
			}
		}
		else_if = { #has both
			limit = { has_idea = RUS_improved_pilot_training_5 }
			swap_ideas = {
				remove_idea = RUS_improved_pilot_training_5
				add_idea = RUS_improved_pilot_training_8
			}
		}
		else = {
			swap_ideas = {
				remove_idea = RUS_improved_pilot_training_1
				add_idea = RUS_improved_pilot_training_4
			}
		}
		add_tech_bonus = {
			name = RUS_Aviation_Bureaus
			bonus = 0.25
			uses = 4
			category = air_equipment
		}
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = RUS_Long_Range_Bombing
	icon = GFX_focus_generic_long_range_aircraft
	cost = 8

	relative_position_id = RUS_Aviation_Bureaus
	x = 0
	y = 2

	prerequisite = {
		focus = RUS_Aviation_Bureaus
	}
	ai_will_do = {
		factor = 2
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 3
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Long_Range_Bombing"
		if = {
			limit = { has_dlc_bba = yes }
			add_tech_bonus = {
				name = RUS_Long_Range_Bombing
				bonus = 1
				uses = 1
				category = tactical_bomber
			}
			add_tech_bonus = {
				name = RUS_Long_Range_Bombing
				bonus = 1
				uses = 1
				category = cat_strategic_bomber
			}
		}
		else = {
			add_tech_bonus = {
				name = RUS_Long_Range_Bombing
				bonus = 0.75
				uses = 2
				category = tactical_bomber
				category = cat_strategic_bomber
			}
		}
		if = {
			limit = { has_dlc_bba = yes }
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_tech = engines_3 }
				create_equipment_variant = {
					name = "TB-8"
					type = large_plane_airframe_2
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = large_bomb_bay
						fixed_auxiliary_weapon_slot_1 = large_bomb_bay
						fixed_auxiliary_weapon_slot_2 = large_bomb_bay
						fixed_auxiliary_weapon_slot_3 = large_bomb_bay
						fixed_auxiliary_weapon_slot_4 = large_bomb_bay
						engine_type_slot = engine_3_6x
						special_type_slot_1 = hmg_defense_turret_2x
						special_type_slot_2 = hmg_defense_turret_2x
						special_type_slot_3 = hmg_defense_turret_2x
						special_type_slot_4 = hmg_defense_turret_2x
					}
				}
			}
			else = {
				create_equipment_variant = {
					name = "TB-8"
					type = large_plane_airframe_2
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = large_bomb_bay
						fixed_auxiliary_weapon_slot_1 = large_bomb_bay
						fixed_auxiliary_weapon_slot_2 = large_bomb_bay
						engine_type_slot = engine_2_6x
						special_type_slot_1 = lmg_defense_turret_2x
						special_type_slot_2 = lmg_defense_turret_2x
						special_type_slot_3 = lmg_defense_turret_2x
					}
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = RUS_Create_The_VDV
	icon = GFX_focus_generic_paratrooper
	cost = 8

	relative_position_id = RUS_Long_Range_Bombing
	x = -1
	y = 1

	prerequisite = {
		focus = RUS_Long_Range_Bombing
	}
	ai_will_do = {
		factor = 2
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 3
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Create_The_VDV"
		add_tech_bonus = {
			name = RUS_Create_The_VDV
			bonus = 1
			uses = 1
			category = para_tech
		}
		if = {
			limit = { has_dlc_aat = yes }
			add_doctrine_cost_reduction = {
				name = RUS_Create_The_VDV
				cost_reduction = 0.5
				uses = 1
				category = cat_paratroopers_doctrine
			}
		}
		custom_effect_tooltip = tooltip_white_line
		hidden_effect = {
			if = {
				limit = { has_template = "Vozdushno-Desantnye Voyska" }
				delete_unit_template_and_units = { division_template = "Vozdushno-Desantnye Voyska" disband = yes } #no cheating
			}
		}
		division_template = {
			name = "Vozdushno-Desantnye Voyska"
			division_names_group = RUS_PAR_01
			regiments = {
				paratrooper = { x = 0 y = 0 }
				paratrooper = { x = 0 y = 1 }
				paratrooper = { x = 0 y = 2 }
				paratrooper = { x = 1 y = 0 }
				paratrooper = { x = 1 y = 1 }
				paratrooper = { x = 1 y = 2 }
			}
		}
		random_owned_controlled_state = {
			prioritize = { 219 }
			limit = { valid_state_for_spawning_friendly_unit = yes }
			create_unit = {
				division = "division_template = \"Vozdushno-Desantnye Voyska\" start_experience_factor = 0.1"
				owner = ROOT
				count = 2
			}
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = RUS_Death_From_Above
	icon = GFX_goal_generic_air_fighter2
	cost = 8

	relative_position_id = RUS_Long_Range_Bombing
	x = 1
	y = 1

	prerequisite = {
		focus = RUS_Long_Range_Bombing
	}
	prerequisite = {
		focus = RUS_Specialise_in_Ground_Support
		focus = RUS_Maintain_Tactical_Flexibility
	}
	ai_will_do = {
		factor = 2
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 3
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Death_From_Above"
		air_experience = 25
		if = {
			limit = { has_idea = RUS_aircraft_designs_2 }
			swap_ideas = {
				remove_idea = RUS_aircraft_designs_2
				add_idea = RUS_aircraft_designs_6
			}
		}
		else_if = {
			limit = { has_idea = RUS_aircraft_designs_3 }
			swap_ideas = {
				remove_idea = RUS_aircraft_designs_3
				add_idea = RUS_aircraft_designs_7
			}
		}
		else_if = {
			limit = { has_idea = RUS_aircraft_designs_4 }
			swap_ideas = {
				remove_idea = RUS_aircraft_designs_4
				add_idea = RUS_aircraft_designs_8
			}
		}
		else_if = {
			limit = { has_idea = RUS_aircraft_designs_5 }
			swap_ideas = {
				remove_idea = RUS_aircraft_designs_5
				add_idea = RUS_aircraft_designs_9
			}
		}
		else = {
			effect_tooltip = {
				swap_ideas = {
					remove_idea = RUS_aircraft_designs_5
					add_idea = RUS_aircraft_designs_9
				}
			}
		}
		add_one_random_military_factory = yes
		add_one_random_military_factory = yes
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = RUS_Transpolar_Flights
	icon = GFX_goal_generic_takeover_industries
	cost = 8

	relative_position_id = RUS_Modernise_The_VVS
	x = 0
	y = 1

	prerequisite = {
		focus = RUS_Modernise_The_VVS
	}
	ai_will_do = {
		factor = 2
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 3
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Transpolar_Flights"
		air_experience = 20
		if = {
			limit = { has_idea = RUS_aircraft_designs_2 }
			swap_ideas = {
				remove_idea = RUS_aircraft_designs_2
				add_idea = RUS_aircraft_designs_4
			}
		}
		else_if = {
			limit = { has_idea = RUS_aircraft_designs_3 }
			swap_ideas = {
				remove_idea = RUS_aircraft_designs_3
				add_idea = RUS_aircraft_designs_5
			}
		}
		else_if = {
			limit = { has_idea = RUS_aircraft_designs_6 }
			swap_ideas = {
				remove_idea = RUS_aircraft_designs_6
				add_idea = RUS_aircraft_designs_8
			}
		}
		else_if = {
			limit = { has_idea = RUS_aircraft_designs_7 }
			swap_ideas = {
				remove_idea = RUS_aircraft_designs_7
				add_idea = RUS_aircraft_designs_9
			}
		}
		else = {
			add_ideas = RUS_aircraft_designs_1
		}
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = RUS_Expand_The_Aircraft_Industry
	icon = GFX_focus_generic_aircraft_production
	cost = 8

	relative_position_id = RUS_Modernise_The_VVS
	x = 2
	y = 1

	prerequisite = {
		focus = RUS_Modernise_The_VVS
	}
	ai_will_do = {
		factor = 2
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 3
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Expand_The_Aircraft_Industry"
		air_experience = 25
		custom_effect_tooltip = tooltip_white_line
		add_one_random_military_factory = yes
		add_one_random_military_factory = yes
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = RUS_Airspace_Defence
	icon = GFX_focus_generic_copy_plane_designs
	cost = 8

	relative_position_id = RUS_Transpolar_Flights
	x = 1
	y = 1

	prerequisite = {
		focus = RUS_Transpolar_Flights
		focus = RUS_Expand_The_Aircraft_Industry
	}
	ai_will_do = {
		factor = 2
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 3
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Airspace_Defence"
		if = {
			limit = { has_dlc_bba = yes }
			add_tech_bonus = {
				name = RUS_Airspace_Defence
				bonus = 1
				uses = 1
				category = light_fighter
				category = cat_heavy_fighter
			}
			add_tech_bonus = {
				name = RUS_Airspace_Defence
				bonus = 1
				uses = 1
				category = plane_modules_tech
			}
		}
		else = {
			add_tech_bonus = {
				name = RUS_Airspace_Defence
				bonus = 0.75
				uses = 2
				category = light_fighter
				category = cat_heavy_fighter
			}
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Specialise_in_Ground_Support
	icon = GFX_focus_generic_multi_role_aircraft
	cost = 8

	relative_position_id = RUS_Airspace_Defence
	x = -1
	y = 1

	prerequisite = {
		focus = RUS_Airspace_Defence
	}
	mutually_exclusive = {
		focus = RUS_Maintain_Tactical_Flexibility
	}
	ai_will_do = {
		factor = 2
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 3
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Specialise_in_Ground_Support"
		if = {
			limit = { has_idea = RUS_aircraft_designs_1 }
			swap_ideas = {
				remove_idea = RUS_aircraft_designs_1
				add_idea = RUS_aircraft_designs_4
			}
		}
		else = {
			add_ideas = RUS_aircraft_designs_2
		}
		custom_effect_tooltip = tooltip_white_line
		if = {
			limit = { has_dlc_bba = yes }
			add_tech_bonus = {
				name = RUS_Specialise_in_Ground_Support
				bonus = 1
				uses = 1
				category = cas_bomber
			}
			add_tech_bonus = {
				name = RUS_Specialise_in_Ground_Support
				bonus = 1
				uses = 1
				category = plane_modules_tech
			}
		}
		else = {
			add_tech_bonus = {
				name = RUS_Specialise_in_Ground_Support
				bonus = 0.75
				uses = 2
				category = cas_bomber
			}
		}
		if = {
			limit = { has_dlc_bba = yes }
			custom_effect_tooltip = tooltip_white_line
			create_equipment_variant = {
				name = "I-18M"
				type = small_plane_airframe_2
				parent_version = 0
				modules = {
					fixed_main_weapon_slot = aircraft_cannon_1_1x
					fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_1x
					engine_type_slot = engine_2_1x
					special_type_slot_1 = fuel_tanks_small
					special_type_slot_2 = self_sealing_fuel_tanks_small
				}
			}
			if = {
				limit = { has_tech = engines_3 }
				create_equipment_variant = {
					name = "BSh-2"
					type = small_plane_cas_airframe_2
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = heavy_bomb_locks
						fixed_auxiliary_weapon_slot_1 = bomb_locks
						engine_type_slot = engine_3_1x
						special_type_slot_1 = dive_brakes_small
						special_type_slot_2 = armor_plate_small
					}
				}
			}
			else = {
				create_equipment_variant = {
					name = "BSh-2"
					type = small_plane_cas_airframe_2
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = heavy_bomb_locks
						engine_type_slot = engine_2_1x
						special_type_slot_1 = dive_brakes_small
						special_type_slot_2 = lmg_defense_turret
					}
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = RUS_Maintain_Tactical_Flexibility
	icon = GFX_focus_generic_cas_aircraft
	cost = 8

	relative_position_id = RUS_Airspace_Defence
	x = 1
	y = 1

	prerequisite = {
		focus = RUS_Airspace_Defence
	}
	mutually_exclusive = {
		focus = RUS_Specialise_in_Ground_Support
	}
	ai_will_do = {
		factor = 2
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 3
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Maintain_Tactical_Flexibility"
		if = {
			limit = { has_idea = RUS_aircraft_designs_1 }
			swap_ideas = {
				remove_idea = RUS_aircraft_designs_1
				add_idea = RUS_aircraft_designs_5
			}
		}
		else = {
			add_ideas = RUS_aircraft_designs_3
		}
		custom_effect_tooltip = tooltip_white_line
		if = {
			limit = { has_dlc_bba = yes }
			add_tech_bonus = {
				name = RUS_Maintain_Tactical_Flexibility
				bonus = 1
				uses = 1
				category = tactical_bomber
			}
			add_tech_bonus = {
				name = RUS_Maintain_Tactical_Flexibility
				bonus = 1
				uses = 1
				category = plane_modules_tech
			}
		}
		else = {
			add_tech_bonus = {
				name = RUS_Maintain_Tactical_Flexibility
				bonus = 0.75
				uses = 2
				category = tactical_bomber
			}
		}
		if = {
			limit = { has_dlc_bba = yes }
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_tech = engines_3 }
				create_equipment_variant = {
					name = "SB-6"
					type = medium_plane_airframe_2
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = medium_bomb_bay
						fixed_auxiliary_weapon_slot_1 = small_bomb_bay
						fixed_auxiliary_weapon_slot_2 = small_bomb_bay
						engine_type_slot = engine_3_2x
						special_type_slot_1 = hmg_defense_turret_2x
						special_type_slot_2 = hmg_defense_turret_2x
					}
				}
				create_equipment_variant = {
					name = "VI-104"
					type = medium_plane_fighter_airframe_2
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = heavy_mg_4x
						fixed_auxiliary_weapon_slot_1 = heavy_mg_4x
						fixed_auxiliary_weapon_slot_2 = heavy_mg_2x
						fixed_auxiliary_weapon_slot_3 = heavy_mg_2x
						engine_type_slot = engine_3_2x
						special_type_slot_1 = armor_plate_medium
						special_type_slot_2 = self_sealing_fuel_tanks_medium
					}
				}
			}
			else = {
				create_equipment_variant = {
					name = "SB-6"
					type = medium_plane_airframe_2
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = medium_bomb_bay
						fixed_auxiliary_weapon_slot_1 = small_bomb_bay
						engine_type_slot = engine_2_2x
						special_type_slot_1 = lmg_defense_turret
					}
				}
				create_equipment_variant = {
					name = "VI-104"
					type = medium_plane_fighter_airframe_2
					parent_version = 0
					modules = {
						fixed_main_weapon_slot = heavy_mg_4x
						fixed_auxiliary_weapon_slot_1 = heavy_mg_4x
						engine_type_slot = engine_2_2x
						special_type_slot_1 = lmg_defense_turret_2x
						special_type_slot_2 = self_sealing_fuel_tanks_medium
					}
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = RUS_Jet_Engine_Experiments
	icon = GFX_focus_generic_jet
	cost = 8

	relative_position_id = RUS_Airspace_Defence
	x = 0
	y = 2

	prerequisite = {
		focus = RUS_Specialise_in_Ground_Support
		focus = RUS_Maintain_Tactical_Flexibility
	}
	ai_will_do = {
		factor = 2
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 3
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Jet_Engine_Experiments"
		add_tech_bonus = {
			name = RUS_Jet_Engine_Experiments
			bonus = 1
			uses = 1
			category = air_equipment
		}
		custom_effect_tooltip = tooltip_white_line
		add_tech_bonus = {
			name = RUS_Jet_Engine_Experiments
			ahead_reduction = 1
			bonus = 1.0
			category = jet_technology
			category = rocketry
		}
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_INDUSTRY }
}

### Shared Air-Navy Branch ###
shared_focus = {
	id = RUS_Naval_Bomber_Development
	icon = GFX_goal_generic_air_naval_bomber_new
	cost = 8

	relative_position_id = RUS_Expand_The_Aircraft_Industry
	x = 1
	y = 1

	prerequisite = {
		focus = RUS_Expand_The_Aircraft_Industry
	}
	prerequisite = {
		focus = RUS_Take_To_The_Seas
	}
	ai_will_do = {
		factor = 2
		modifier = {
			factor = 2
			is_in_faction = yes # = started foreign tree
		}
		modifier = {
			factor = 3
			has_war = yes
		}
		modifier = {
			factor = 1.5
			date > 1937.1.1
		}
		modifier = {
			factor = 1.5
			date > 1938.1.1
		}
		modifier = {
			factor = 1.5
			date > 1939.1.1
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Naval_Bomber_Development"
		air_experience = 15
		navy_experience = 15
		add_tech_bonus = {
			name = RUS_Naval_Bomber_Development
			bonus = 1
			uses = 1
			category = naval_bomber
		}
		if = {
			limit = { has_dlc_bba = yes }
			custom_effect_tooltip = tooltip_white_line
			create_equipment_variant = {
				name = "DB-4T"
				type = small_plane_naval_bomber_airframe_2
				parent_version = 0
				modules = {
					fixed_main_weapon_slot = torpedo_mounting_2
					engine_type_slot = engine_2_1x
					special_type_slot_1 = floats
				}
			}
			create_equipment_variant = {
				name = "DB-4TN"
				type = large_plane_maritime_patrol_plane_airframe_2
				parent_version = 0
				modules = {
					fixed_main_weapon_slot = torpedo_mounting
					fixed_auxiliary_weapon_slot_1 = torpedo_mounting
					fixed_auxiliary_weapon_slot_2 = torpedo_mounting
					engine_type_slot = engine_2_4x
					special_type_slot_1 = flying_boat_large
					special_type_slot_2 = lmg_defense_turret_2x
					special_type_slot_3 = lmg_defense_turret_2x
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Carrier_Development
	icon = GFX_goal_generic_navy_carrier
	cost = 10

	relative_position_id = RUS_Naval_Bomber_Development
	x = 0
	y = 2

	prerequisite = {
		focus = RUS_Naval_Bomber_Development
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Carrier_Development"
		add_tech_bonus = {
			name = RUS_Carrier_Development
			bonus = 0.5
			uses = 2
			category = cv_tech
		}
		add_tech_bonus = {
			name = RUS_Carrier_Development
			bonus = 0.5
			uses = 2
			category = naval_air
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

### Navy Tree ###
shared_focus = {
	id = RUS_Take_To_The_Seas
	icon = {
		value = GFX_goal_RUS_navy_socialist
		trigger = { has_socialist_government = yes }
	}
	icon = {
		value = GFX_goal_RUS_navy
	}

	cost = 8
	relative_position_id = RUS_Modernise_The_VVS
	x = 9
	y = 0

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Take_To_The_Seas"
		navy_experience = 50
		add_doctrine_cost_reduction = {
			name = RUS_Take_To_The_Seas
			uses = 2
			cost_reduction = 0.5
			category = naval_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_NAVY_XP }
}

shared_focus = {
	id = RUS_Floating_Fortresses
	icon = GFX_focus_generic_navy_battleship3alt
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = -5
	y = 1

	prerequisite = {
		focus = RUS_Take_To_The_Seas
	}
	mutually_exclusive = {
		focus = RUS_Naval_Air_Coordination
		focus = RUS_War_Under_The_Sea
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Floating_Fortresses"
		navy_experience = 50
		add_doctrine_cost_reduction = {
			name = RUS_Floating_Fortresses
			cost_reduction = 0.5
			uses = 2
			category = naval_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Naval_Air_Coordination
	icon = GFX_goal_generic_air_naval_bomber2_new
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = -3
	y = 1

	prerequisite = {
		focus = RUS_Take_To_The_Seas
	}
	mutually_exclusive = {
		focus = RUS_Floating_Fortresses
		focus = RUS_War_Under_The_Sea
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Naval_Air_Coordination"
		air_experience = 15
		add_tech_bonus = {
			name = RUS_Naval_Air_Coordination
			bonus = 1
			uses = 1
			category = naval_bomber
		}
		add_doctrine_cost_reduction = {
			name = RUS_Naval_Air_Coordination
			cost_reduction = 0.5
			uses = 2
			category = naval_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_War_Under_The_Sea
	icon = GFX_goal_generic_navy_anti_submarine
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = -1
	y = 1

	prerequisite = {
		focus = RUS_Take_To_The_Seas
	}
	mutually_exclusive = {
		focus = RUS_Floating_Fortresses
		focus = RUS_Naval_Air_Coordination
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_War_Under_The_Sea"
		add_tech_bonus = {
			name = RUS_War_Under_The_Sea
			bonus = 0.5
			uses = 2
			category = ss_tech
		}
		add_doctrine_cost_reduction = {
			name = RUS_War_Under_The_Sea
			cost_reduction = 0.5
			uses = 2
			category = naval_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_The_Invisible_Navy
	icon = GFX_goal_generic_navy_submarine
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = -4
	y = 2

	prerequisite = {
		focus = RUS_Floating_Fortresses
		focus = RUS_Naval_Air_Coordination
		focus = RUS_War_Under_The_Sea
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_The_Invisible_Navy"
		add_tech_bonus = {
			name = RUS_The_Invisible_Navy
			bonus = 0.75
			uses = 2
			category = ss_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Coastal_Defences
	icon = GFX_goal_nested_fortifications
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = -3
	y = 5

	allow_branch = { has_dlc_mtg = yes }
	prerequisite = {
		focus = RUS_Fleet_Protectors
		focus = RUS_Fleet_Vanguards
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Coastal_Defences"
		add_tech_bonus = {
			name = RUS_Coastal_Defences
			bonus = 0.75
			uses = 2
			category = naval_mines
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_A_Destroyer_Armada
	icon = GFX_focus_generic_destroyer
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = -2
	y = 2

	prerequisite = {
		focus = RUS_Floating_Fortresses
		focus = RUS_Naval_Air_Coordination
		focus = RUS_War_Under_The_Sea
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_A_Destroyer_Armada"
		add_tech_bonus = {
			name = RUS_A_Destroyer_Armada
			bonus = 0.75
			uses = 2
			category = dd_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Fleet_Protectors
	icon = GFX_goal_generic_navy_cruiser
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = -5
	y = 3

	allow_branch = { has_dlc_mtg = yes }
	prerequisite = {
		focus = RUS_A_Destroyer_Armada
	}
	prerequisite = {
		focus = RUS_The_Invisible_Navy
	}
	mutually_exclusive = {
		focus = RUS_Fleet_Vanguards
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Fleet_Protectors"
		add_tech_bonus = {
			name = RUS_Fleet_Protectors
			bonus = 0.75
			uses = 2
			category = asw_tech
			category = cat_anti_air
		}
		add_tech_bonus = {
			name = RUS_Fleet_Protectors
			bonus = 1
			uses = 1
			category = cl_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Commerce_Raiders
	icon = GFX_focus_generic_cruiser2
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = -5
	y = 5

	allow_branch = { has_dlc_mtg = yes }
	prerequisite = {
		focus = RUS_Fleet_Protectors
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Commerce_Raiders"
		add_tech_bonus = {
			name = RUS_Commerce_Raiders
			bonus = 0.75
			uses = 2
			category = ship_modules_tech
		}
		add_tech_bonus = {
			name = RUS_Commerce_Raiders
			bonus = 1
			uses = 1
			category = cl_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Fleet_Vanguards
	icon = GFX_focus_generic_navy_battleship2
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = -2
	y = 3

	offset = {
		x = -1
		y = 0
		trigger = {
			has_dlc_mtg = no
		}
	}
	prerequisite = {
		focus = RUS_A_Destroyer_Armada
	}
	prerequisite = {
		focus = RUS_The_Invisible_Navy
	}
	mutually_exclusive = {
		focus = RUS_Fleet_Protectors
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Fleet_Vanguards"
		if = {
			limit = { has_dlc_mtg = yes }
			add_tech_bonus = {
				name = RUS_Fleet_Vanguards
				bonus = 0.75
				uses = 3
				category = naval_equipment
			}
			add_tech_bonus = {
				name = RUS_Fleet_Vanguards
				bonus = 0.75
				uses = 2
				category = cl_tech
				category = ca_tech
			}
		}
		else = {
			add_tech_bonus = {
				name = RUS_Fleet_Vanguards
				bonus = 1
				uses = 2
				category = cl_tech
				category = ca_tech
			}
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Naval_Infantry_MTG
	text = RUS_Naval_Infantry
	icon = GFX_goal_generic_amphibious_assault
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = -4
	y = 4

	allow_branch = { has_dlc_mtg = yes }
	prerequisite = {
		focus = RUS_Fleet_Protectors
		focus = RUS_Fleet_Vanguards
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Naval_Infantry_MTG"
		add_tech_bonus = {
			name = RUS_Naval_Infantry
			bonus = 0.75
			uses = 2
			category = marine_tech
			category = tp_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Naval_Infantry
	icon = GFX_goal_generic_amphibious_assault
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = -2
	y = 4

	allow_branch = {
		has_dlc_mtg = no
	}
	prerequisite = {
		focus = RUS_Fleet_Vanguards
		focus = RUS_New_Tactics_For_New_Ships
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Naval_Infantry"
		add_tech_bonus = {
			name = RUS_Naval_Infantry
			bonus = 0.75
			uses = 2
			category = marine_tech
			category = tp_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_New_Tactics_For_New_Ships
	icon = GFX_goal_navy_hat_ships
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = -1
	y = 3

	allow_branch = {
		has_dlc_mtg = no
	}
	prerequisite = {
		focus = RUS_Floating_Fortresses
		focus = RUS_Naval_Air_Coordination
		focus = RUS_War_Under_The_Sea
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_New_Tactics_For_New_Ships"
		add_doctrine_cost_reduction = {
			name = RUS_New_Tactics_For_New_Ships
			cost_reduction = 0.5
			uses = 2
			category = naval_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_New_Tactics_For_New_Ships_MTG
	text = RUS_New_Tactics_For_New_Ships
	icon = GFX_goal_navy_hat_ships
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = -2
	y = 4

	allow_branch = { has_dlc_mtg = yes }
	prerequisite = {
		focus = RUS_Fleet_Protectors
		focus = RUS_Fleet_Vanguards
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_New_Tactics_For_New_Ships_MTG"
		add_doctrine_cost_reduction = {
			name = RUS_New_Tactics_For_New_Ships
			cost_reduction = 0.5
			uses = 2
			category = naval_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Modernise_The_Petrograd_Dockyards
	icon = GFX_goal_generic_shipyard
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = 1
	y = 1

	available = {
		195 = { is_owned_and_controlled_by = ROOT }
	}
	prerequisite = {
		focus = RUS_Take_To_The_Seas
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Modernise_The_Petrograd_Dockyards"
		random_owned_controlled_state = {
			prioritize = { 195 }
			limit = {
				is_coastal = yes
				free_building_slots = {
					building = dockyard
					size > 2
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = dockyard
				level = 3
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = RUS_Modernise_Murmansk
	icon = GFX_goal_CAN_explore_north
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = 2
	y = 2

	available = {
		213 = { is_owned_and_controlled_by = ROOT }
	}
	prerequisite = {
		focus = RUS_Modernise_The_Petrograd_Dockyards
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Modernise_Murmansk"
		213 = {
			add_building_construction = {
				type = coastal_bunker
				level = 3
				province = 3134
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 4
				province = 3134
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = anti_air_building
				level = 2
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = dockyard
				level = 3
				instant_build = yes
			}
		}
		add_tech_bonus = {
			name = RUS_Modernise_Murmansk
			bonus = 1
			uses = 1
			category = dd_tech
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Recover_Foreign_Blueprints
	icon = GFX_goal_navy_decision
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = 1
	y = 3

	available = {
		OR = {
			137 = { is_owned_and_controlled_by = ROOT }
			408 = { is_owned_and_controlled_by = ROOT }
		}
	}
	prerequisite = {
		focus = RUS_Modernise_The_Petrograd_Dockyards
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Recover_Foreign_Blueprints"
		add_tech_bonus = {
			name = RUS_Recover_Foreign_Blueprints
			bonus = 0.75
			uses = 2
			category = cv_tech
			category = bb_tech

		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Submarines_In_Nikolayevsk
	icon = GFX_goal_generic_wolf_pack
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = 0
	y = 2

	available = {
		560 = { is_owned_and_controlled_by = ROOT }
	}
	prerequisite = {
		focus = RUS_Modernise_The_Petrograd_Dockyards
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Submarines_In_Nikolayevsk"
		560 = {
			add_building_construction = {
				type = coastal_bunker
				level = 3
				province = 12559
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 5
				province = 12559
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = anti_air_building
				level = 2
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = dockyard
				level = 3
				instant_build = yes
			}
		}
		add_tech_bonus = {
			name = RUS_Submarines_In_Nikolayevsk
			bonus = 1
			uses = 1
			category = ss_tech
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = RUS_Repair_Sevastopol
	icon = GFX_goal_generic_construct_naval_dockyard
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = 0
	y = 4

	available = {
		137 = { is_owned_and_controlled_by = ROOT }
	}
	prerequisite = {
		focus = RUS_Recover_Foreign_Blueprints
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Repair_Sevastopol"
		137 = {
			add_building_construction = {
				type = coastal_bunker
				level = 3
				province = 3686
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				province = 3686
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = anti_air_building
				level = 2
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = dockyard
				level = 3
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = RUS_Repair_Vladivostok
	icon = GFX_goal_AST_upgrade_reserves
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = 2
	y = 4

	available = {
		408 = { is_owned_and_controlled_by = ROOT }
	}
	prerequisite = {
		focus = RUS_Recover_Foreign_Blueprints
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Repair_Vladivostok"
		408 = {
			add_building_construction = {
				type = coastal_bunker
				level = 3
				province = 957
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 4
				province = 957
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = anti_air_building
				level = 2
				instant_build = yes
			}

			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = RUS_Battleship_Development
	icon = GFX_goal_generic_navy_battleship
	cost = 8

	relative_position_id = RUS_Take_To_The_Seas
	x = 1
	y = 5

	prerequisite = {
		focus = RUS_Repair_Sevastopol
		focus = RUS_Repair_Vladivostok
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			has_war = yes
			enemies_naval_strength_ratio > 2
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RUS_Battleship_Development"
		if = {
			limit = { has_dlc_mtg = yes }
			add_tech_bonus = {
				name = RUS_Battleship_Development
				bonus = 0.75
				uses = 2
				category = ship_modules_tech
			}
		}
		add_tech_bonus = {
			name = RUS_Battleship_Development
			bonus = 1
			uses = 1
			category = bb_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}
